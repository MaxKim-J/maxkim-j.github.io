---
title: Module Federation Shared Dependency ìž‘ë™ ì›ë¦¬ì™€ í™œìš© ë°©ë²•
description: Webpack Module Federationì˜ ì˜ì¡´ì„± ê³µìœ ì— ëŒ€í•´ ì•Œì•„ë´…ë‹ˆë‹¤.
date: 2023-08-05
category: tech
slug: module-federation-shared
tags:
  - micro-frontends
  - architecture
lang: ko
---

[Module Federationì´ ë¬´ì—‡ì¸ì§€ ì•Œì•„ë³¸ ì§€ë‚œë²ˆ í¬ìŠ¤íŠ¸](/posts/module-federation-concepts)ì— ì´ì–´, ì´ë²ˆì—ëŠ” Module Federationì˜ ì¤‘ìš”í•œ ê¸°ëŠ¥ ì¤‘ì— í•˜ë‚˜ì´ë©´ì„œ, ë‚œí•´í•œ ë©´ì´ ìžˆëŠ” ê³µìœ  ì˜ì¡´ì„±(Shared Dependency)ì— ëŒ€í•´ ì˜ˆì œì™€ í•¨ê»˜ ì´í•´í•´ë´…ë‹ˆë‹¤.

## Shared Modules

ë³„ë„ì˜ ì²­í¬ë¡œ ë¶„ë¦¬í•˜ì—¬ ì•±ì˜ ëŸ°íƒ€ìž„ì— ë¡œë“œí•´ ì‚¬ìš©í•˜ëŠ” ì˜ì¡´ì„± ëª¨ë“ˆìž…ë‹ˆë‹¤. Webpack Module Federation Pluginì˜ shared ì˜µì…˜ìœ¼ë¡œ í•´ë‹¹ ì˜ì¡´ì„±ì˜ ì´ë¦„ê³¼ ë²„ì „, ë¶€ê°€ì ì¸ ì˜µì…˜ ë“±ì„ ì§€ì • ê°€ëŠ¥í•©ë‹ˆë‹¤. ë‹¤ìŒ ì½”ë“œëŠ” [webpack docsì—ì„œ ê°€ì ¸ì˜¨ ì˜ˆì œ](https://webpack.js.org/plugins/module-federation-plugin/#additional-examples)ìž…ë‹ˆë‹¤.

```js
module.exports = {
  plugins: [
    new ModuleFederationPlugin({
      shared: {
        'my-vue': {
          // can be referenced by import "my-vue"
          import: 'vue', // the "vue" package will be used as a provided and fallback module
          shareKey: 'shared-vue', // under this name the shared module will be placed in the share scope
          shareScope: 'default', // share scope with this name will be used
          singleton: true, // only a single version of the shared module is allowed
          strictVersion: true, // don't use shared version when version isn't valid. Singleton or modules without fallback will throw, otherwise fallback is used
          version: '1.2.3', // the version of the shared module
          requiredVersion: '^1.0.0', // the required version of the shared module
        },
      },
    }),
  ],
};
```

ìž‘ë™ ë°©ì‹ì„ ì¢€ ë” í’€ì–´ ì„¤ëª…í•˜ìžë©´ ì´ë ‡ìŠµë‹ˆë‹¤.

1. ëŸ°íƒ€ìž„ì— ë¡œë“œë˜ëŠ” Micro Appì˜ ë¹Œë“œíƒ€ìž„ì— ê³µìœ  ì˜ì¡´ì„±ì˜ ëª¨ë“ˆ(Webpack Module)ì„ ë³„ë„ ì²­í¬ë¡œ ë¶„ë¦¬í•´ ë²ˆë“¤ë§í•©ë‹ˆë‹¤.
2. ëŸ°íƒ€ìž„ì—ì„œ Micro Appì´ ë¡œë“œë  ë•Œ, í•´ë‹¹ ê³µìœ  ì˜ì¡´ì„±ì„ ì‚¬ìš©í•˜ë©´ì„œ ë¨¼ì € ë¡œë“œë˜ëŠ” ì•±ì˜ ëŸ°íƒ€ìž„ì— ë¯¸ë¦¬ ë¶„ë¦¬ëœ ì²­í¬ë¥¼ ë¡œë“œí•´ì„œ ì˜ì¡´ì„±ì„ ì‚¬ìš©í•˜ê²Œ í•©ë‹ˆë‹¤.
3. ì´ì–´ ë¡œë“œë˜ëŠ”, í•´ë‹¹ ê³µìœ  ì˜ì¡´ì„±ì„ ì‚¬ìš©í•˜ëŠ” ë‹¤ë¥¸ Micro Appì—ì„œ ë¨¼ì € ë¶ˆëŸ¬ì˜¨ ê³µìœ  ì˜ì¡´ì„±ì€ ë”°ë¡œ ë¡œë“œí•˜ì§€ ì•Šê³  ì´ë¯¸ ë¡œë“œëœ ì²­í¬ì—ì„œ ì˜ì¡´ì„±ì„ ì‚¬ìš©í•  ìˆ˜ ìžˆê²Œ í•©ë‹ˆë‹¤.
4. ë§Œì•½ì— ë¨¼ì € ë¶ˆëŸ¬ì˜¨ ê³µìœ  ì˜ì¡´ì„±ì´ ë¡œë“œëœ Micro Appì—ì„œ ì‚¬ìš©í•œë‹¤ê³  ì •ì˜í•œ ì˜ì¡´ì„±ê³¼ ë²„ì „, share scopeê°€ ì¼ì¹˜í•˜ì§€ ì•ŠëŠ” ê²½ìš° í•´ë‹¹ Micro Appì€ ìžì‹ ì˜ ë¹Œë“œ ë²ˆë“¤ì—ì„œ ê³µìœ  ì˜ì¡´ì„±ì— ëŒ€í•œ ë²ˆë“¤ì„ êº¼ë‚´ì„œ ì”ë‹ˆë‹¤.

ì´ ê¸°ëŠ¥ì€ í¬ê²Œ 2ê°€ì§€ ê´€ì ì—ì„œ íš¨ìš©ì´ ìžˆë‹¤ê³  ë´…ë‹ˆë‹¤.

1. **ìµœì í™” ê´€ì **: ëŸ°íƒ€ìž„ì—ì„œ Micro Appê°„ ë§Žì´ ì“°ì´ëŠ” ì˜ì¡´ì„±ì— ëŒ€í•´ í•´ë‹¹ ì˜ì¡´ì„±ì„ ëŸ°íƒ€ìž„ì—ì„œ í•œë²ˆë§Œ ë¡œë“œí•˜ê³  ëŒë ¤ì“¸ ìˆ˜ ìžˆê²Œ ë˜ë‹ˆ ëª¨ë“  ë§ˆì´í¬ë¡œ ì•±ì—ì„œ ë¹Œë“œíƒ€ìž„ì— í•´ë‹¹ ì˜ì¡´ì„±ì„ ê°€ì§ˆ í•„ìš”ê°€ ì—†ì–´ì§€ê³ , ì˜ì¡´ì„±ì„ ëŸ°íƒ€ìž„ì—ì„œ ì—¬ëŸ¬ë²ˆ ë¡œë“œí•  í•„ìš”ë„ ì—†ì–´ì§‘ë‹ˆë‹¤.
2. **ì¸ìŠ¤í„´ìŠ¤ ì •í•©ì„± ê´€ì ** : ê° Micro Appì˜ ëŸ°íƒ€ìž„ì— ë¶ˆëŸ¬ì˜¬ ê³µìœ  ì˜ì¡´ì„±ë“¤ì€ ë²„ì „ê³¼ Module Federation Pluginì˜ shared ì˜µì…˜ì— ë”°ë¼ ì•± ë‚´ì—ì„œ ì°¸ì¡°í•  ì¸ìŠ¤í„´ìŠ¤ë¥¼ ì„¬ì„¸í•˜ê²Œ ì§€ì •í•˜ê²Œ ë©ë‹ˆë‹¤. ì´ ë•Œë¬¸ì— ì „ì—­ ì•±ì—ì„œ ëª¨ë“  ëŸ°íƒ€ìž„ ì˜ì¡´ì„±ì´ í•˜ë‚˜ì˜ ì¸ìŠ¤í„´ìŠ¤ë§Œì„ ì‚¬ìš©í•˜ê²Œ í•˜ê±°ë‚˜, ê°™ì€ ì˜ì¡´ì„±ì´ë¼ë„ ë²„ì „ê³¼ ì˜µì…˜ì— ë”°ë¼ ì—¬ëŸ¬ê°œ ì¸ìŠ¤í„´ìŠ¤ë¥¼ ê°–ê²Œ í•˜ëŠ” ê²ƒë„ ê°€ëŠ¥í•©ë‹ˆë‹¤.

## ì˜ˆì œ ì˜¤ë²„ë·°

ì´ë²ˆì—ë„ [ì˜ˆì œë¥¼ ì¤€ë¹„í–ˆìŠµë‹ˆë‹¤.](https://github.com/MaxKim-J/module-federation-example-2) ì˜ˆì œë¥¼ ë¸Œë¼ìš°ì €ì— ë„ìš°ë©´ ì´ëŸ° í™”ë©´ì´ ë‚˜ì™€ìš”

![ê³µìœ  ì˜ì¡´ì„± ì˜ˆì œ](../images/module-federation-shared/example-1.png)

Micro Appì€ 3ê°œì´ê³ , Hostì•±ì´ 2ê°œì˜ Remote App(remote1, remote2)ì„ ëŸ°íƒ€ìž„ì— ë¡œë“œí•˜ê³  ìžˆëŠ” êµ¬ì¡°ìž…ë‹ˆë‹¤. ê° ì•±ë§ˆë‹¤ ì¡°ê¸ˆì”© ë‹¤ë¥¸ shared ì„¤ì •ì„ ê°€ì§€ê³  ìžˆëŠ”ë°ìš”.

ê³µìœ í•˜ëŠ” ì˜ì¡´ì„±ì€ ê°€ì§“ìˆ˜ë¡œ ë”°ì§€ë©´ í¬ê²Œ 4ê°œì¸ë°, ê°ê°ì˜ ì˜ì¡´ì„±ë“¤ì„ í†µí•´ ì„¤ì •ì— ë”°ë¼ ì•½ê°„ì”© ë‹¤ë¥¸ ìž‘ë™ ë°©ì‹ì„ ë³´ì—¬ë“œë¦¬ë ¤ í•©ë‹ˆë‹¤.

- **`React`**: ëª¨ë“  Micro App(host, remote1, remote2)ì—ì„œ ì‚¬ìš©í•˜ëŠ” ê³µìœ  ì˜ì¡´ì„±ìœ¼ë¡œ, singleton ì˜µì…˜ì„ ì¼œì„œ ì „ì—­ ì•±ì—ì„œ ì¸ìŠ¤í„´ìŠ¤ë¥¼ ë‹¨ì¼ë²„ì „ìœ¼ë¡œ ê³ ì •í–ˆìŠµë‹ˆë‹¤. ì•± ì „ì—­ì—ì„œ í•˜ë‚˜ì˜ ì¸ìŠ¤í„´ìŠ¤ë§Œ ì¡´ìž¬í•˜ê²Œ ë©ë‹ˆë‹¤.
- **`lodash.camelcase`**: remote1, remote2 Appì—ì„œ ì“°ì´ëŠ” ê³µìœ  ì˜ì¡´ì„±ìž…ë‹ˆë‹¤. ê° ì•±ì—ì„œ package.jsonì— ëª…ì‹œëœ ë²„ì „ì´ ê°™ìŠµë‹ˆë‹¤.
- **`date-fns`** : remote1, remote2 Appì—ì„œ ì“°ì´ëŠ” ê³µìœ  ì˜ì¡´ì„±ì¸ë°ìš”, package.jsonì— ëª…ì‹œëœ ë²„ì „ì´ ë‹¤ë¦…ë‹ˆë‹¤. (`2.30,0`, `2.20.0`)
- **`shared-deps-mf-package`**: ëª¨ë“  Micro Appì—ì„œ ì‚¬ìš©í•˜ëŠ” ê³µìœ  ì˜ì¡´ì„±ì¸ë° ëŸ°íƒ€ìž„ì—ì„œ ì‚¬ìš©í•˜ëŠ” hostì™€ remote1ì˜ ë²„ì „ì´ ê°™ê³ (`1.0.9`), remote2ë§Œ ë²„ì „ì´ ë‹¤ë¦…ë‹ˆë‹¤(`1.0.11`)
  - ë¸Œë¼ìš°ì €ì—ì„œ ì¸ìŠ¤í„´ìŠ¤ ì–‘ìƒì„ í™•ì¸í•˜ê¸° ìœ„í•´ ì´ íŒ¨í‚¤ì§€ì˜ êµ¬í˜„ì²´ì—ëŠ” íŒ¨í‚¤ì§€ì˜ ë²„ì „ì„ í™•ì¸í•˜ëŠ” í•¨ìˆ˜(`getVersion`), íŒ¨í‚¤ì§€ì˜ ì¸ìŠ¤í„´ìŠ¤ ì •í•©ì„±ì„ í™•ì¸í•˜ëŠ” í•¨ìˆ˜(`getId`)ê°€ ìžˆìŠµë‹ˆë‹¤.

ìš” ë§ˆì´í¬ë¡œ ì•±ì—ì„œë„ ëŸ°íƒ€ìž„ì—ì„œì˜ ë²ˆë“¤ ë¡œë“œ ì–‘ìƒì„ í•œë²ˆ ë³´ê³  ê°€ê² ìŠµë‹ˆë‹¤. ë‹¤ìŒ ê·¸ë¦¼ê³¼ ê°™ìŠµë‹ˆë‹¤.

![ë²ˆë“¤ ë¡œë“œ ìˆœì„œ](../images/module-federation-shared/load.png)
![ë²ˆë“¤ ë¡œë“œë¥¼ ìˆœì„œëŒ€ë¡œ ë‚˜íƒ€ë‚¸ ê·¸ë¦¼](../images/module-federation-shared/loadTree.png)

- ì „ì²´ ì•± ì§„ìž…ì  ì²­í¬ë¥¼ ë¡œë“œí•©ë‹ˆë‹¤. (`main.js`, localhost:3000)
- hostì—ì„œë„ ì‚¬ìš©í•˜ëŠ” reactì— ëŒ€í•œ ëª¨ë“ˆì´ ë‹´ê¸´ ì²­í¬ë¥¼ ë¡œë“œí•©ë‹ˆë‹¤.(`484.js`, `378.js`)
- hostì—ì„œ ì‚¬ìš©í•˜ëŠ” 1.0.9 ë²„ì „ì˜ `shared-deps-mf-package` ëª¨ë“ˆì´ ë‹´ê¸´ ì²­í¬ë¥¼ ë¡œë“œí•©ë‹ˆë‹¤.(`869.js`)
- host ì•± ë³¸ë¬¸ì— í•´ë‹¹í•˜ëŠ” ì½”ë“œë¥¼ ê°€ì§„ ì²­í¬ë¥¼ ë¡œë“œí•©ë‹ˆë‹¤(`568.js`)
- remote1ì˜ remoteEntry ì§„ìž…ì  ì²­í¬ë¥¼ ë¡œë“œí•©ë‹ˆë‹¤.(`remoteEntry.js`, localhost:3001)
- remote2ì˜ remoteEntry ì§„ìž…ì  ì²­í¬ë¥¼ ë¡œë“œí•©ë‹ˆë‹¤.(`remoteEntry.js`, localhost:3002)
- remote2ì—ì„œ ì‚¬ìš©í•˜ëŠ” 2.20.0 ë²„ì „ì˜ `date-fns` ëª¨ë“ˆì´ ë‹´ê¸´ ì²­í¬ë¥¼ ë¡œë“œí•©ë‹ˆë‹¤.(`637.js`)
- remote2ì—ì„œ ì‚¬ìš©í•˜ëŠ” 1.0.11 ë²„ì „ì˜ `shared-deps-mf-package` ëª¨ë“ˆì´ ë‹´ê¸´ ì²­í¬ë¥¼ ë¡œë“œí•©ë‹ˆë‹¤.(`235.js`)
- remote2ì—ì„œ ì‚¬ìš©í•˜ëŠ” `lodash.camelcase` ëª¨ë“ˆì„ í¬í•¨í•œ ì²­í¬ë¥¼ ë¡œë“œí•©ë‹ˆë‹¤.(`763.js`)
  - remote2ì—ì„œ ì‚¬ìš©í•˜ëŠ” `react` ëŠ” hostê°€ ë¡œë“œë˜ì—ˆì„ ë•Œ ë¨¼ì € ë¡œë“œë˜ì—ˆìœ¼ë‹ˆ remote2ì—ì„œëŠ” ë¡œë“œí•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.
- remote2 ì•± ë³¸ë¬¸ì— í•´ë‹¹í•˜ëŠ” ì½”ë“œë¥¼ ê°€ì§„ ì²­í¬ë¥¼ ë¡œë“œí•©ë‹ˆë‹¤(`327.js`, localhost:3002)
- remote1ì—ì„œ ì‚¬ìš©í•˜ëŠ” 2.30.0 ë²„ì „ì˜ `date-fns` ëª¨ë“ˆì´ ë‹´ê¸´ ì²­í¬ë¥¼ ë¡œë“œí•©ë‹ˆë‹¤.(`444.js`)
- remote1 ì•± ë³¸ë¬¸ì— í•´ë‹¹í•˜ëŠ” ì½”ë“œë¥¼ ê°€ì§„ ì²­í¬ë¥¼ ë¡œë“œí•©ë‹ˆë‹¤(`327.js`, localhost:3001)
  - remote1ì—ì„œ ì‚¬ìš©í•˜ëŠ” `lodash.camelcase` ëŠ” remote2ì—ì„œ, `react`ì™€ `shared-deps-mf-package` ëª¨ë“ˆì€ ê°ê° hostê°€ ë¡œë“œë˜ì—ˆì„ ë•Œ ë¨¼ì € ë¡œë“œë˜ì—ˆìœ¼ë‹ˆ remote1ì—ì„œëŠ” ë”°ë¡œ ë¡œë“œí•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.

ì•„ë¬´ëž˜ë„ ë™ì  ëª¨ë“ˆ ë¡œë“œì´ë‹¤ ë³´ë‹ˆ ëª¨ë“  ë¡œë“œ ìˆœì„œê°€ ë§¤ë²ˆ ê°™ì§€ëŠ” ì•Šê³ , host ë¡œë“œ ì´í›„ remote1ê³¼ remote2ì— í•´ë‹¹í•˜ëŠ” ì•±ì„ ë™ì‹œì— ë¶€ë¥´ë‹ˆ ê° ì•±ì— í•„ìš”í•œ ëª¨ë“ˆë“¤ì˜ ë¡œë“œ ìˆœì„œëŠ” ì—Žì¹˜ë½ ë’¤ì¹˜ë½ì¼ ìˆ˜ë„ ìžˆë‹¤ëŠ” ê²ƒì„ ê°ì•ˆí•´ì£¼ì‹œë©´ ì¢‹ìŠµë‹ˆë‹¤.

## Shared Module ë²ˆë“¤ë§

Shared ì˜µì…˜ì—ì„œ ê³µìœ  ì˜ì¡´ì„±ì„ ë“±ë¡í•˜ë©´, ì•± ë¹Œë“œì— ì–´ë–¤ ì˜í–¥ì„ ë¯¸ì¹˜ëŠ”ì§€ë¶€í„° ë³´ê² ìŠµë‹ˆë‹¤.

> Shared modules are modules that are both overridable and provided as overrides to nested containers. They usually point to the same module in each build, e.g., the same library.

Webpackì—ëŠ” [Moduleì´ë¼ëŠ” ê°œë…](https://webpack.js.org/concepts/modules/)ì´ ìžˆìŠµë‹ˆë‹¤.

Moduleì€ ì—¬ëŸ¬ê°œì˜ íŒŒì¼ë¡œ êµ¬ì„±ëœ ì›¹ ì• í”Œë¦¬ì¼€ì´ì…˜ì˜ í•œ ë¶€ë¶„ìœ¼ë¡œ, JSë¿ ì•„ë‹ˆë¼ ì´ë¯¸ì§€, CSSë‚˜ HTMLë„ ëª¨ë“ˆì´ ë  ìˆ˜ ìžˆìŠµë‹ˆë‹¤. Webpackì€ ë²ˆë“¤ë§ ê³¼ì •ì—ì„œ importë¬¸ì„ íŒŒì‹±í•˜ë©´ì„œ ì˜ì¡´ì„±(dependency)ì„ ë¨¼ì € ë¦¬ì¡¸ë¸Œí•˜ê³ , í•´ë‹¹ ì˜ì¡´ì„±ë“¤ì„ ì˜ë¯¸ìžˆëŠ” ë‹¨ìœ„ë¡œ ëª¨ì•„ë‹¤ê°€ Moduleë¡œ ë§Œë“­ë‹ˆë‹¤. Moduleì€ idë¡œ ì‹ë³„ë˜ê³ , ë²ˆë“¤ë§ ê²°ê³¼ë¬¼ì¸ chunkì—ëŠ” ì—¬ëŸ¬ê°œì˜ Moduleì´ ë“¤ì–´ê°ˆ ìˆ˜ ìžˆìŠµë‹ˆë‹¤.

![moduleIdê°€ ë²ˆë“¤ì—ì„œ ë‚˜íƒ€ë‚¸ ë¶€ë¶„](../images/module-federation-shared/moduleId.png)

ê³µìœ  ì˜ì¡´ì„±ì„ ì„¤ì •í–ˆë‹¤ë©´, ì˜ì¡´ì„±ì´ í•˜ë‚˜ì˜ Moduleë¡œ ë²ˆë“¤ë§ë˜ì–´ì„œ ëŸ°íƒ€ìž„ì— ë¡œë“œí•  ìˆ˜ ìžˆëŠ” Chunkì•ˆì— ë“¤ì–´ê°‘ë‹ˆë‹¤. ì´ë•Œ ë¶„ë¦¬ë˜ëŠ” Moduleì˜ IDëŠ” í•´ë‹¹ Shared Moduleì˜ ì´ë¦„ê³¼ ë²„ì „ì— 1:1ë¡œ ëŒ€ì‘ë©ë‹ˆë‹¤. ì´ê²ƒ ë•ë¶„ì— ë‹¤ë¥¸ ë§ˆì´í¬ë¡œ ì•±ì—ì„œë„ íŠ¹ì • ì˜ì¡´ì„±ì„ ëŸ°íƒ€ìž„ì—ì„œ ê°€ì ¸ì˜¬ ë•Œ ì–´ë–¤ Moduleì„ ë´ë¼ë´ì•¼ í•˜ëŠ”ì§€ ì•Œ ìˆ˜ ìžˆê²Œ ë©ë‹ˆë‹¤.

![react ëª¨ë“ˆì´ ë‹¤ë¥´ê²Œ ë¹Œë“œëœ ì•±ì—ì„œ idê°€ ê°™ë‹¤](../images/module-federation-shared/module-react-id.png)

ê³µìœ  ì˜ì¡´ì„±ì˜ ë²„ì „ì€ í•´ë‹¹ ì•±ì—ì„œ package.jsonì— ì •ì˜ëœ ë²„ì „ì„ ê¸°ë³¸ì ìœ¼ë¡œ ë”°ë¼ê°‘ë‹ˆë‹¤. Micro Appì˜ ì§„ìž…ì  ë²ˆë“¤ì„ ë³´ë©´, ì–´ë–¤ ê³µìœ  ì˜ì¡´ì„±ì„ ì–´ë–¤ ë²„ì „ìœ¼ë¡œ ì‚¬ìš©í•˜ë ¤ í•˜ëŠ”ì§€ í™•ì¸í•  ìˆ˜ ìžˆìŠµë‹ˆë‹¤.

![ì§„ìž…ì  ë²ˆë“¤ì— ê³µìœ  ì˜ì¡´ì„± ë²„ì „ì´ ë“¤ì–´ê°€ ìžˆìŒ](../images/module-federation-shared/switch.png)

ì‹ ê¸°í•œ ê²ƒì€, package.jsonì— ê³µìœ  ì˜ì¡´ì„±ì— ëŒ€í•œ ì •ì˜ê°€ ì—†ì–´ë„ shared ì„¤ì •ì— ëª…ì‹œë˜ì–´ ìžˆë‹¤ë©´ ë¹Œë“œ ì—ëŸ¬ë¥¼ ë‚´ì§€ ì•Šê³  í•´ë‹¹ ê³µìœ  ì˜ì¡´ì„±ì„ í”ŒëŸ¬ê·¸ì¸ì—ì„œ ë¦¬ì¡¸ë¸Œí•´ ë¹Œë“œ ê²°ê³¼ë¬¼ì— í¬í•¨ì‹œí‚¨ë‹¤ëŠ” ê²ƒìž…ë‹ˆë‹¤.

ê³µìœ  ì˜ì¡´ì„± ë²ˆë“¤ë§ì— ê´€ì—¬í•˜ëŠ” ì£¼ìš”í•œ ì»¨ì…‰ ì¤‘ í•˜ë‚˜ëŠ” "ì–´ë–¤ ë§ˆì´í¬ë¡œ ì•±ì´ ë¨¼ì € ë¡œë“œë ì§€ ëª¨ë¥¸ë‹¤. ë¡œë“œ ë ì§€ ì•ˆ ë ì§€ë„ ëª¨ë¥¸ë‹¤."ëŠ” ê²ƒìž…ë‹ˆë‹¤. ì²­í¬ë¥¼ ë¡œë“œí•˜ë“  ì•±ì„ ë¡œë“œí•˜ë“  ëª¨ë“  ê²ƒì´ ëŸ°íƒ€ìž„ì— ê²°ì •ë˜ë‹ˆê¹Œìš”.

ê·¸ëž˜ì„œ ê³µìœ  ì˜ì¡´ì„± ëª¨ë“ˆì€ íŠ¸ë¦¬ì‰ì´í‚¹ë„ ì•ˆ ë©ë‹ˆë‹¤. ê° Micro Appì€ ëª¨ë“ˆ ì „ì²´ë¥¼ ë¹Œë“œ ê²°ê³¼ë¬¼ì— ê°€ì§€ê³  ìžˆê²Œ ë©ë‹ˆë‹¤. íŠ¸ë¦¬ì‰ì´í‚¹ ì§€ì›í•  ê³„íšì´ ì—†ëŠëƒëŠ” [webpackì˜ ì´ìŠˆ](https://github.com/webpack/webpack/discussions/12532)ì—, ê°œë³„ ë¶„ë¦¬ ë°°í¬ë  Micro Appì—ì„œ ì‚¬ìš©í•  ëª¨ë“ˆê³¼ ëª¨ë“ˆì˜ êµ¬í˜„ì²´ê°€ ë­”ì§€ ëª¨ë¥´ëŠ”ë° ì–´ë–»ê²Œ íŠ¸ë¦¬ì‰ì´í‚¹ í•˜ê² ëƒëŠ” ì·¨ì§€ì˜ ë©”ì¸í…Œì´ë„ˆì˜ ë‹µì´ ë‹¬ë ¤ìžˆìŠµë‹ˆë‹¤.

ê³ë‹¤ë¦¬ë¡œ ì•Œë©´ ì¢‹ì€ ì‚¬ì‹¤ í•œ ê°€ì§€ë¡œ, Module Federation Pluginì€ shared ëª¨ë“ˆì´ ë²ˆë“¤ë§ë˜ëŠ” ì²­í¬ì˜ id, nameê³¼ ê°™ì€ ë„¤ì´ë° ì†ì„±ì— ê´€ì—¬í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤. ë”°ë¼ì„œ ë¹Œë“œ ê²°ê³¼ë¬¼ì˜ ì²­í¬ ì´ë¦„ì€ ë‹¤ë¥¸ Code Splittingìœ¼ë¡œ ë°œìƒí•œ ì²­í¬ë“¤ê³¼ ëª…ëª… ê·œì¹™ì´ ê°™ì•„ì„œ ë¹Œë“œ ê²°ê³¼ë¬¼ ì´ë¦„ë§Œ ë´ì„œëŠ” êµ¬ë¶„ì´ ì•ˆë©ë‹ˆë‹¤.

ì €ëŠ” ë§‰ ê°œë°œ í™˜ê²½ì—ì„œ shared ëª¨ë“ˆì´ ë“¤ì–´ê°„ chunk ì´ë¦„ì— vendor ì´ëŸ°ê±° ë¶™ê¸¸ëž˜ ë­”ê°€ shared ëª¨ë“ˆì´ í¬í•¨ëœ ì²­í¬ë“¤ì€ ë”°ë¡œ ëª…ëª…ë˜ëŠ”ê±´ê°€? í–ˆëŠ”ë° ì•„ë‹ˆì—ˆìŠµë‹ˆë‹¤.

ì¼ë°˜ì ì¸ ì²­í¬ë“¤ê³¼ ë˜‘ê°™ê¸° ë•Œë¬¸ì— optimization.splitChunks ì˜µì…˜ì„ ì„¤ì •í–ˆë‹¤ë©´ shared moduleì´ í¬í•¨ëœ ì²­í¬ë“¤ë„ ì˜í–¥ì„ ë°›ìŠµë‹ˆë‹¤.

## Shared Module ëŸ°íƒ€ìž„ ë¡œë“œ

ìœ„ì—ì„œ ë²ˆë“¤ ê³¼ì •ì—ì„œ ê³µìœ  ì˜ì¡´ì„± ëª¨ë“ˆì´ ì–´ë–»ê²Œ ë¹Œë“œ ê²°ê³¼ë¬¼ì— í¬í•¨ë˜ëŠ”ì§€ ì•Œì•„ë´¤ìŠµë‹ˆë‹¤.

Micro Appì—ì„œ ì–´ë–¤ ê³µìœ  ì˜ì¡´ì„± ëª¨ë“ˆì„ ì“¸ì§€ëŠ” ì• í”Œë¦¬ì¼€ì´ì…˜ì˜ ëŸ°íƒ€ìž„ì— ê²°ì •ë©ë‹ˆë‹¤. ë²„ì „ê³¼ ë¯¸ë¦¬ ì„¤ì •ë†“ì€ ê°’ì— ë”°ë¼ ë‹¤ë¥¸ ì•±ì—ì„œ ì´ë¯¸ ë¡œë“œëœ ëª¨ë“ˆì„ ì‚¬ìš©í•  ê²ƒì¸ì§€, ê°™ì€ ë¹Œë“œ ê²°ê³¼ë¬¼ì—ì„œ êº¼ë‚´ ì“¸ì§€ë¥¼ ê²°ì •í•©ë‹ˆë‹¤.

ëŸ°íƒ€ìž„ì— ê³µìœ  ì˜ì¡´ì„± ëª¨ë“ˆì„ ê²°ì •í•˜ëŠ” ë³€ìˆ˜ëŠ” í¬ê²Œ 3ê°œìž…ë‹ˆë‹¤. ì‚´íŽ´ë³´ë„ë¡ í•˜ê² ìŠµë‹ˆë‹¤.

### 1. package.jsonì— ëª…ì‹œëœ ë²„ì „

```js
// ë”°ë¡œ ì˜µì…˜ì„ ì£¼ì§€ ì•ŠìŒ
new ModuleFederationPlugin({
  name: 'host',
  ...
  shared: {
    'shared-deps-mf-package': {},
  },
}),


// ì´ëŸ° í˜•íƒœë„ ê°€ëŠ¥
new ModuleFederationPlugin({
  name: 'host',
  ...
  shared: ['shared-deps-mf-package'],
}),
```

ë”°ë¡œ ì˜µì…˜ì„ ì£¼ì§€ ì•Šìœ¼ë©´ package.jsonì˜ ë²„ì „ì´ ì•±ì—ì„œ ì‚¬ìš©í•˜ëŠ” ê³µìœ  ì˜ì¡´ì„±ì˜ ë²„ì „ìœ¼ë¡œ ë“±ë¡ ë©ë‹ˆë‹¤. ì´ë•Œ `package.json`ì— carrot(`^`) ê³¼ ê°™ì€ Semver ê¸°í˜¸ë¥¼ ì‚¬ìš©í–ˆì„ ë•ŒëŠ”, í•´ë‹¹ ì‹œë§¨í‹± ë²„ì „ì— ë§žëŠ” ê°€ìž¥ ë†’ì€ ë²„ì „ì´ ë“±ë¡ë©ë‹ˆë‹¤.

### 2. Share Scope

ê°™ì€ ê³µìœ  ì˜ì¡´ì„±, ê°™ì€ ë²„ì „ìœ¼ë¡œ ê³µìœ í•˜ë”ë¼ë„ [share scope](https://maxkim-j.github.io/posts/module-federation-concepts#share-scope)ê°€ ë‹¤ë¥´ë©´ ë‹¤ë¥¸ ì˜ì¡´ì„± ëª¨ë“ˆì„ ì‚¬ìš©í•©ë‹ˆë‹¤.

shared scopeëŠ” ê³µìœ  ì˜ì¡´ì„±ì´ ìœ íš¨í•œ í•˜ë‚˜ì˜ scopeìž…ë‹ˆë‹¤. Module Federation Pluginì˜ ì„¤ì •ê°’ì— `shareScope` ì˜µì…˜ìœ¼ë¡œ íŠ¹ì • ë¬¸ìžì—´ì„ ëª…ì‹œí•  ìˆ˜ ìžˆìŠµë‹ˆë‹¤. ì•„ë¬´ ì˜µì…˜ì„ ì£¼ì§€ ì•ŠëŠ” ê²½ìš° ê¸°ë³¸ shareScopeì¸ `default`ë¥¼ ì‚¬ìš©í•©ë‹ˆë‹¤.

```js
new ModuleFederationPlugin({
  name: 'host',
  ...
  shared: {
    'shared-deps-mf-package': {
        shareScope: 'default', // ê¸°ë³¸ share scope
    },
    'date-fns': {
        shareScope: 'A', // Aë¼ëŠ” shared scopeì—ì„œ ê³µìœ  ì˜ì¡´ì„±ì„ ë°›ì•„ì˜µë‹ˆë‹¤.
    },
  },
}),
```

### 3. Shared Hint

Module Federation Pluginì˜ ì„¤ì •ì— ì—¬ëŸ¬ ì„¤ì •ê°’ì„ ë„£ì„ ìˆ˜ ìžˆëŠ”ë°ìš”. ë²„ì „ ê²°ì •ì— ë¯¸ì¹˜ëŠ” ì„¤ì •ë“¤ì„ Webpack Docsì—ì„œëŠ” Shared Hintë¼ê³  í•©ë‹ˆë‹¤. ì£¼ìš”í•œ ì„¤ì • 3ê°œë¥¼ ì‚´íŽ´ë³´ê² ìŠµë‹ˆë‹¤.

- singleton
- requiredVersion
- strictVersion

```js
new ModuleFederationPlugin({
  name: 'host',
    ...
  shared: {
    'shared-deps-mf-package': {
      singleton: true, // ë¨¼ì € ë¡œë“œëœ ê³µìœ  ì˜ì¡´ì„± ëª¨ë“ˆì˜ ë²„ì „ì´
      requiredVersion: '>=1.0.8 <1.0.11', // ì´ semver ë²„ì „ ë²”ìœ„ ì•ˆì— ë“¤ì–´ì˜¤ì§€ ì•Šìœ¼ë©´
      strictVersion: true, // ëŸ°íƒ€ìž„ì—ì„œ ì—ëŸ¬ë¥¼ ë‚¸ë‹¤.
    },
  },
}),
```

ì´ ì˜µì…˜ê³¼ ê´€ë ¨ëœ ë™ìž‘ì„ ë³´ì—¬ë“œë¦¬ë ¤ê³  ì˜ˆì œ ë ˆí¬ì§€í† ë¦¬ì— ë¸Œëžœì¹˜ë¥¼ íŒŒë†¨ìŠµë‹ˆë‹¤. [`shared-hint-example`](https://github.com/MaxKim-J/module-federation-example-2/tree/shared-hint-example) ë¡œ ë¸Œëžœì¹˜ë¥¼ swtichí•´ì„œ ì‚´íŽ´ë³´ì‹œë©´ ì¢‹ìŠµë‹ˆë‹¤.

#### singleton

singletonì€ share scope ë‚´ë¶€ì˜ ê³µìœ  ëª¨ë“ˆ ì¤‘ í•˜ë‚˜ì˜ ë²„ì „ë§Œì„ í—ˆìš©í•©ë‹ˆë‹¤. (only loaded once)

Micro Appì— singleton ì˜µì…˜ì„ ì„¤ì •í•˜ë©´ ë¬´ì¡°ê±´ ë¨¼ì € ë¡œë“œëœ ì˜ì¡´ì„±ì˜ ë²„ì „ì„ ë”°ë¼ê°€ê³ , ì›ëž˜ Micro Appì´ ì“°ë ¤ê³  í–ˆë˜ ê³µìœ  ì˜ì¡´ì„± ëª¨ë“ˆì˜ ë²„ì „ì€ ë¬´ì‹œë©ë‹ˆë‹¤. ë®ì–´ ì”Œì›Œì§€ëŠ” ê²ƒì´ì£ .

ì˜ˆì œì—ì„œëŠ” host, remote1, remote2 ëª¨ë“  Micro Appì˜ `shared-deps-mf-package` shared ì„¤ì •ì´ ëª¨ë‘ sigletonìœ¼ë¡œ ë˜ì–´ ìžˆê³ , package.jsonì˜ ë²„ì „ì€ ê°ê° ë‹¤ ë‹¤ë¦…ë‹ˆë‹¤.(`1.0.9`, `1.0.10`, `1.0.11`) ë¸Œë¼ìš°ì € ëŸ°íƒ€ìž„ì—ì„œëŠ” ëª¨ë‘ ê°€ìž¥ ë¨¼ì € ë¡œë“œëœ hostì˜ 1.0.9 ë²„ì „ìœ¼ë¡œ í•´ë‹¹ ê³µìœ  ì˜ì¡´ì„±ì€ í•œ ë²ˆë§Œ ë¡œë“œë©ë‹ˆë‹¤.

![shared ì„¤ì •ì´ ëª¨ë‘ ì‹±ê¸€í„´ì¼ë•Œ](../images/module-federation-shared/all-singleton.png)

#### requiredVersion, strictVersion

ì´ëŸ¬í•œ singletonì˜ ë²„ì „ ì˜¬ë ¤ì¹˜ê¸° ë™ìž‘ì€ ëŸ°íƒ€ìž„ì— ë¬¸ì œë¥¼ ì¼ìœ¼í‚¬ ìˆ˜ ìžˆìŠµë‹ˆë‹¤.

ê·¸ëž˜ì„œ requiredVersionê³¼ strictVersion ì˜µì…˜ì„ ì‚¬ìš©í•´ ì‹¤ì§ˆì ìœ¼ë¡œ í•´ë‹¹ Micro Appì—ì„œ ì‚¬ìš©í•  ê³µìœ  ì˜ì¡´ì„±ì˜ ë²”ìœ„ë¥¼ ì‹œë§¨í‹± ë²„ì „ìœ¼ë¡œ ì •ì˜í•˜ê³ , ë²„ì „ì´ ë§žì§€ ì•Šì„ ë•Œ ëŸ°íƒ€ìž„ì—ì„œ ì—ëŸ¬ê°€ ë‚˜ê²Œ ë§Œë“¤ ìˆ˜ ìžˆìŠµë‹ˆë‹¤.

ë§Œì•½ì— requiredVersionì„ ë‹¤ìŒê³¼ ê°™ì´ ì„¤ì •í•˜ë©´ ë¯¸ë¦¬ ë¡œë“œë˜ì–´ ìžˆëŠ” ì˜ì¡´ì„±ì˜ ë²„ì „ì´ semverì— í•´ë‹¹ë˜ë©´ ê·¸ ì¸ìŠ¤í„´ìŠ¤ë¥¼ ì“°ê²Œ ë©ë‹ˆë‹¤. ê±°ê¸°ì— `strictVersion:true` ì˜µì…˜ê¹Œì§€ ì§€ì •í•´ì£¼ë©´ ëŸ°íƒ€ìž„ì—ì„œ ë²„ì „ì´ ë§žì§€ ì•Šë‹¤ëŠ” ì—ëŸ¬ë¥¼ ë‚´ê²Œ ë©ë‹ˆë‹¤.

![shared ì„¤ì •ì´ ëª¨ë‘ ì‹±ê¸€í„´ì´ê³  requiredVersionê³¼ strictVersionì„ ê°™ì´ ì“¸ ë•Œ](../images/module-federation-shared/required-strict.png)

requiredVersionë§Œ ì“°ê³  strictVersionì„ ì“°ì§€ ì•ŠëŠ”ë‹¤ë©´ ë²„ì „ ì˜¬ë ¤ì¹˜ê¸°ëŠ” ê·¸ëŒ€ë¡œ ì¼ì–´ë‚©ë‹ˆë‹¤. ì•„ëž˜ ì´ë¯¸ì§€ëŠ” ë˜ ë‹¤ë¥¸ ì˜ˆì‹œì¸ë°ìš”.

remote1ì— requiredVersionì„ ë‘ê³ , remote2ëŠ” singleton ì„¤ì •ì€ ì—†ì•´ìŠµë‹ˆë‹¤. ê·¸ëŸ¬ë©´ remote1ì˜ íŒ¨í‚¤ì§€ ë²„ì „ì€ hostì˜ ê·¸ê²ƒì¸ 1.0.9ê°€ ë˜ê³ , remote2ëŠ” singletonì´ ì•„ë‹ˆë‹ˆ package.jsonì— ëª…ì‹œëœ 1.0.11 ë²„ì „ì„ ì”ë‹ˆë‹¤. ì•± ì „ì²´ë¡œ ë”°ì§€ë©´ í•´ë‹¹ ì˜ì¡´ì„±ì€ 2ë²ˆ(`1.0.9`, `1.0.11`) ë¡œë“œë˜ëŠ” ê±°ì£ .

![shared ì„¤ì •ì´ ëª¨ë‘ ì‹±ê¸€í„´ì´ê³  requiredVersionë§Œ ì‚¬ìš©í•  ë•Œ](../images/module-federation-shared/mixed.png)

ëŸ°íƒ€ìž„ ê³µìœ  ëª¨ë“ˆ ì¸ìŠ¤í„´ìŠ¤ ê²°ì •ì— ëŒ€í•´ [ìž˜ ì •ë¦¬ëœ ê¸€](https://www.angulararchitects.io/en/aktuelles/getting-out-of-version-mismatch-hell-with-module-federation/)ì´ ìžˆìŠµë‹ˆë‹¤. ì œê°€ ì„¤ëª…ë“œë¦° ì˜ˆì œë„ ì´ ê¸€ì— ìžˆëŠ” ì¼€ì´ìŠ¤ë¥¼ ì¼ë¶€ ê°€ì ¸ì™”ëŠ”ë°ìš”. ì´ê±¸ ì°¸ê³ í•´ë³´ì…”ë„ ì¢‹ì„ ê²ƒ ê°™ìŠµë‹ˆë‹¤.

## ì‹¤ì œ ìš´ì˜í™˜ê²½ì—ì„œëŠ” ì–´ë–»ê²Œ ì“°ëŠ”ê²Œ ì¢‹ì„ê¹Œ?

ì´ ì„¹ì…˜ì—ì„œëŠ” ì‹¤ì œ ì•±ì—ì„œ ê³µìœ  ì˜ì¡´ì„±ì„ ìš´ì˜í•´ë³´ë©´ ëŠë‚€ ì ì„ ì‚¬ê²¬ì„ ë‹´ì•„ ë§ì”€ë“œë¦¬ë ¤ í•©ë‹ˆë‹¤.

### ë‹¤ì–‘í•œ ë²„ì „ì„ ê°–ëŠ” ê³µìœ  ì˜ì¡´ì„± ê´€ë¦¬ëŠ” íš¨ìš©ì´ í¬ì§€ ì•Šê³  ì–´ë µë‹¤

ìœ„ì—ì„œ ê½¤ë‚˜ ë³µìž¡í•œ ì˜µì…˜ì„ ì‚´íŽ´ë´¤ëŠ”ë°, ì´ë ‡ê²Œ ì˜µì…˜ì´ ë‹¤ì–‘í•œ ì´ìœ ëŠ” ë¸Œë¼ìš°ì € ëŸ°íƒ€ìž„ì— ì•± ë§ˆë‹¤ ì—¬ëŸ¬ê°œì¸ ê³µìœ  ì˜ì¡´ì„±ì˜ ë²„ì „ í˜¹ì€ ê³µìœ  ìŠ¤ì½”í”„ë¥¼ ì§€ì •í•˜ì—¬ ê° ì•±ë§ˆë‹¤ ì•ˆì „í•˜ê³  ìµœì í™”ê°€ ë˜ëŠ” í˜•íƒœë¡œ ê°ê° ë‹¤ë¥¸ ì˜ì¡´ì„±ì„ ì‚¬ìš©í•˜ê²Œ í•˜ê¸° ìœ„í•´ì„œìž…ë‹ˆë‹¤.

ì˜ˆì‹œë¡œ í’€ì–´ ì„¤ëª…í•˜ë©´ ë‹¤ìŒê³¼ ê°™ì€ê±¸ í•  ìˆ˜ ìžˆê²Œ í•˜ë ¤ê³  í•˜ëŠ” ê²ƒìž…ë‹ˆë‹¤.

- ì–´ë–¤ Micro Appì—ì„œëŠ” Vueë¥¼ ì“°ê³ , ë‹¤ë¥¸ Micro Appì—ì„œëŠ” Reactë¥¼ ì¨ë„ ëŸ°íƒ€ìž„ì— ìž˜ ëŒì•„ê°„ë‹¤.
- ì–´ë–¤ Micro Appì—ì„œëŠ” React Queryì˜ 3.X.X ë²„ì „ì„ ì“°ê³ , ë‹¤ë¥¸ Micro Appì—ì„œëŠ” React Queryì˜ 4.X.X ë²„ì „ì„ ì¨ì„œ ì‹ ê¸°ëŠ¥ì„ ì‚¬ìš©í•´ë„ ëŸ°íƒ€ìž„ì— ìž˜ ëŒì•„ê°„ë‹¤. ê·¸ë¦¬ê³  ë²„ì „ ë‹¹ ì¸ìŠ¤í„´ìŠ¤ëŠ” ì•± ì „ì²´ì—ì„œ í•œë²ˆì”©ë§Œ ë¡œë“œëœë‹¤.

ê·¸ëŸ°ë° ì €ëŠ” ì´ê²Œ ì‹¤ì œ ìš´ì˜ í™˜ê²½ì—ì„œ íš¨ìš©ì´ ê·¸ë ‡ê²Œ ë†’ì§€ ì•Šë‹¤ê³  ìƒê°í•©ë‹ˆë‹¤. ì´ë ‡ê²Œ ì“¸ ìˆ˜ ìžˆëŠ” ë¼ì´ë¸ŒëŸ¬ë¦¬ê°€ ê·¸ë¦¬ ë§Žì§€ ì•Šê³  ìƒê°ë³´ë‹¤ íš¨ìš©ì´ í¬ì§€ë„ ì•Šë‹¤ê³  ìƒê°í•˜ê¸° ë•Œë¬¸ì¸ë°ìš”.

ì¼ë‹¨ íŒ€ë§ˆë‹¤ ì½”ì–´ ë¼ì´ë¸ŒëŸ¬ë¦¬ ìŠ¤íƒì„ ë‹¤ë¥´ê²Œ ê°€ì ¸ê°ˆ ì´ìœ ê°€ íŠ¹ìˆ˜í•œ ê²½ìš°ê°€ ì•„ë‹ˆë©´ ë³„ë¡œ ì—†ë‹¤ê³  ìƒê°í•©ë‹ˆë‹¤. Reactëž‘ Vueë¥¼, í˜¹ì€ React Queryì™€ SWRì„ ì•±ì—ì„œ ê°™ì´ ì“°ëŠ” ì¼ì´ í”í•˜ì§„ ì•Šë‹¤ëŠ” ë§ìž…ë‹ˆë‹¤. ë ˆê±°ì‹œ ì•±ì„ ìƒˆë¡­ê²Œ ë§Œë“¤ì–´ì§„ ì•±ê³¼ í†µí•©í•œë‹¤ê±°ë‚˜... í•˜ëŠ” ê²½ìš°ë¥¼ ì œì™¸í•˜ê³ ìš”.

ë˜í•œ ê³µìœ  ì˜ì¡´ì„± ì„¤ì •ì€ ê½¤ë‚˜ ë³µìž¡í•œë°, ì•±ë§ˆë‹¤ ì´ëŸ¬í•œ ê°œë³„ì ì¸ ì„¤ì •ì„ ê´€ë¦¬í•˜ëŠ” ê²ƒì€ ì•±ì´ ë§Žì•„ì§ˆìˆ˜ë¡ ì–´ë µê³  ì‹¤ìˆ˜ê°€ ìƒê¸°ê¸° ì‰¬ìš´ ì§€ì ì¼ ìˆ˜ ìžˆìŠµë‹ˆë‹¤. í•˜ë‚˜ì˜ Micro Appì„ ê°œë°œí•  ë•Œ íŠ¹ì • ì•±ì´ ëŸ°íƒ€ìž„ ì˜ì¡´ì„±ì„ ì œë•Œ ìµœì í™”ëœ í˜•íƒœë¡œ ê³µê¸‰ë°›ê¸° ìœ„í•œ ì‹œë‚˜ë¦¬ì˜¤ë¥¼ ìƒê°í•´ì•¼ í•  ìˆ˜ë„ ìžˆê³ ìš”.

ë§Œì•½ì— ì•± ê°„ ê°™ì€ ì˜ì¡´ì„±ì´ë¼ë„ ë‹¤ë¥¸ ë²„ì „ì„ ì‚¬ìš©í•˜ê³  ì‹¶ì€ ë‹ˆì¦ˆê°€ ìžˆë‹¤ë©´ ê·¸ëƒ¥ shared ì„¤ì •ì„ ì“°ì§€ ì•Šê³  ë¹Œë“œíƒ€ìž„ì— í•©ì³ë²„ë¦¬ëŠ” ë°©ì‹ìœ¼ë¡œ ìš´ì˜í•˜ëŠ” ê²ƒì´ ê´€ë¦¬ ë©´ì—ì„œëŠ” ë” ë‚˜ì„ìˆ˜ë„ ìžˆìŠµë‹ˆë‹¤. ë³µìž¡í•œ ê·œì¹™ì„ ìƒê°í•  í•„ìš”ê°€ ì—†ìœ¼ë‹ˆê¹Œìš”. ê³µìœ  ì˜ì¡´ì„±ìœ¼ë¡œ ì§€ì •í•˜ë©´ íŠ¸ë¦¬ì‰ì´í‚¹ë„ ì•ˆ ë˜ë‹ˆ ëŸ°íƒ€ìž„ì—ì„œì˜ ìµœì í™” ì´ì ë„ ê·¸ë ‡ê²Œ í¬ì§€ëŠ” ì•Šì„ ìˆ˜ ìžˆìŠµë‹ˆë‹¤.

### ì•± ì „ì—­ì—ì„œ ë‹¨ì¼ ì¸ìŠ¤í„´ìŠ¤ë¥¼ ë³´ìž¥í•˜ê¸° ìœ„í•œ ê³µìœ  ì˜ì¡´ì„± ê´€ë¦¬ëŠ” íš¨ìš©ì´ í¬ë‹¤

Module Federationë“± ëŸ°íƒ€ìž„ì—ì„œ ì•±ì´ í•©ì²´ë˜ëŠ” ë§ˆì´í¬ë¡œ í”„ë¡ íŠ¸ì—”ë“œì—ì„œëŠ” ë°°í¬ì™€ ê°œë°œì€ ê²°êµ­ ë”°ë¡œ í•˜ì§€ë§Œ, ë¸Œë¼ìš°ì €ì—ì„œëŠ” í•˜ë‚˜ì˜ ì•±ìž…ë‹ˆë‹¤. ë°±ì—”ë“œì˜ ë§ˆì´í¬ë¡œì„œë¹„ìŠ¤ì™€ëŠ” ë‹¤ë¥´ê²Œ ì™„ì „ ê²©ë¦¬ëœ í™˜ê²½ì—ì„œ ê°ê°ì˜ Micro Appì´ êµ¬ë™ë˜ëŠ”ê²Œ ì•„ë‹™ë‹ˆë‹¤. ì´ê²Œ ë§ˆì´í¬ë¡œ í”„ë¡ íŠ¸ì—”ë“œë§Œì˜ í¥ë¯¸ë¡œìš´ íŠ¹ì§•ì´ê¸°ë„ í•˜ì£ .

í•˜ë‚˜ì˜ ì•±ì˜ ëª¨ë“  ë¶€ë¶„ì´ ì¼ê´€ëœ ë™ìž‘ì„ í•˜ë„ë¡ í•˜ë ¤ë©´ ì•± ì „ì—­ì—ì„œ ì˜ì¡´ì„± ì¸ìŠ¤í„´ìŠ¤ë¥¼ ë”± í•˜ë‚˜ë¡œë§Œ ë§žì¶°ì¤˜ì•¼ í•˜ëŠ” ê²½ìš°ê°€ ìƒê¹ë‹ˆë‹¤.

ì´ëŸ¬í•œ ì˜ì¡´ì„±ì´ package.jsonì—ë§Œ ì„ ì–¸ë˜ì–´ ë¹Œë“œíƒ€ìž„ì— ë²ˆë“¤ì—ë§Œ í•©ì³ì§€ë©´ Micro Appë‹¹ ë…ë¦½ëœ ì˜ì¡´ì„± ì¸ìŠ¤í„´ìŠ¤ë¥¼ ê°–ê¸° ë•Œë¬¸ì—, ëŸ°íƒ€ìž„ ì˜ì¡´ì„± ê³µìœ ë¥¼ í†µí•´ì„œë§Œ ì´ ë¬¸ì œë¥¼ í•´ê²°í•  ìˆ˜ ìžˆìŠµë‹ˆë‹¤.

ì´ëŸ¬í•œ ì˜ì¡´ì„±ì˜ ìœ í˜•ì€ ë‹¤ìŒê³¼ ê°™ìŠµë‹ˆë‹¤.

1. **var, windowì™€ ê°™ì€ ì „ì—­ ë³€ìˆ˜ë¥¼ ì‚¬ìš©í•˜ëŠ” ë¼ì´ë¸ŒëŸ¬ë¦¬**
   - ë¼ì´ë¸ŒëŸ¬ë¦¬ ë‚´ì—ì„œ ëŸ°íƒ€ìž„ì— letìœ¼ë¡œ ë³€ìˆ˜ ìž¬í• ë‹¹, varê³¼ ê°™ì€ ì „ì—­ë³€ìˆ˜ë¥¼ ì‚¬ìš©í•˜ëŠ” ê²½ìš°. ì¸ìŠ¤í„´ìŠ¤ê°€ 2ê°œ ì´ìƒì´ë©´ ë™ì‹œì„± ì´ìŠˆê°€ ìžˆì„ ìˆ˜ ìžˆìŠµë‹ˆë‹¤.
2. **ìŠ¤íƒ€ì¼ê³¼ ê´€ë ¨ëœ ë¼ì´ë¸ŒëŸ¬ë¦¬ ì¼ë¶€**
   - css-in-js ë¼ì´ë¸ŒëŸ¬ë¦¬ì˜ ì¸ìŠ¤í„´ìŠ¤ê°€ ì—¬ëŸ¬ê°œë¼ë©´, ê°™ì€ ìŠ¤íƒ€ì¼ì´ ë‘ ë²ˆ ì ìš©ëœë‹¤ê±°ë‚˜ í•˜ëŠ” ë¬¸ì œ ë•Œë¬¸ì— ìŠ¤íƒ€ì¼ë§ì´ ì˜ë„ëŒ€ë¡œ ë˜ì§€ ì•Šì„ ìˆ˜ ìžˆìŠµë‹ˆë‹¤.
   - ëŸ°íƒ€ìž„ì— ë¬¸ì œê°€ ì—†ë”ë¼ë„, ì•±ì˜ ì¼ê´€ëœ ë™ìž‘ì„ ë³´ìž¥í•˜ê¸° ìœ„í•´ ìŠ¤íƒ€ì¼ ê´€ë ¨í•œ ë¼ì´ë¸ŒëŸ¬ë¦¬ì˜ ì¸ìŠ¤í„´ìŠ¤ë¥¼ ì•± ì „ì²´ì—ì„œ í•˜ë‚˜ë¡œ ë§žì¶°ì•¼í•  ìˆ˜ë„ ìžˆìŠµë‹ˆë‹¤.
3. **ì•± ìµœìƒìœ„ì— Context Providerë“±ì„ ë‘ê³  ì¨ì•¼ í•˜ëŠ” ë¼ì´ë¸ŒëŸ¬ë¦¬**
   - ì•± ì „ì—­ì—ì„œ ì¸ìŠ¤í„´ìŠ¤ê°€ í•˜ë‚˜ì—¬ì•¼ë§Œ, providerì™€ consumerì˜ ì •í•©ì„±ì´ ë§žê³  ì•± ì „ì²´ì—ì„œ ì˜ë„ëœ ë™ìž‘ì„ í•  ê²ƒìž…ë‹ˆë‹¤.

ê·¸ëž˜ì„œ ê²°ë¡ ì ìœ¼ë¡œëŠ”ìš”, ë‹¤ìŒê³¼ ê°™ì´ ì•±ì„ ìš´ì˜í• ë•Œ ê°€ìž¥ ë§Žì€ ì¼€ì´ìŠ¤ë¥¼ ì»¤ë²„í•˜ë©´ì„œ ë¹„ìš©ë„ ì¤„ì¼ ìˆ˜ ìžˆëŠ” ë°©ë²•ì´ë¼ê³  ìƒê°í•©ë‹ˆë‹¤.

1. ì•± ì „ì—­ì—ì„œ í•˜ë‚˜ì—¬ì•¼ë§Œ í•˜ëŠ” ì˜ì¡´ì„±ë§Œ ê³µìœ  ì˜ì¡´ì„±ìœ¼ë¡œ ë‘ê³  ë‹¨ì¼ ì¸ìŠ¤í„´ìŠ¤ ê°•ì œí•˜ê¸°
2. ì´ì™¸ ë‹¤ë¥¸ ëª¨ë“  ì˜ì¡´ì„±ë“¤ì€ ê³µìœ  ì˜ì¡´ì„±ì„ ì‚¬ìš©í•˜ì§€ ì•Šê³ , ë¹Œë“œíƒ€ìž„ì— ë²ˆë“¤ì— í¬í•¨ì‹œí‚¤ê¸°

## ë§ºëŠ” ë§

Module Federationì˜ ê³µìœ  ì˜ì¡´ì„± ì„¤ì •ì€ ì•±ì˜ package.jsonì˜ ë²„ì „ê³¼ shared hintì— ë”°ë¼ ì •ë§ ë‹¤ì–‘í•œ ì¼€ì´ìŠ¤ê°€ ë‚˜ì˜¬ ìˆ˜ ìžˆìŠµë‹ˆë‹¤. ê·¸ëž˜ì„œ ì²˜ìŒì—” í¬ìŠ¤íŠ¸ì— ë“¤ì–´ê°ˆ ë‚´ìš©ì´ ë„ˆë¬´ ë§Žì•„ì„œ í˜¼ëž€ìŠ¤ëŸ½ë”ë¼ê³ ìš”. ë‚´ìš©ì„ ì •ì œí•˜ëŠ”ë° ì ì§€ ì•Šì€ ì‹œê°„ì„ ì¼ìŠµë‹ˆë‹¤. ì‹œê°„ì´ ë‚˜ë©´ ì˜ì¡´ì„± ê³µìœ ì˜ ì—¬ëŸ¬ ì¼€ì´ìŠ¤ë¥¼ ë¶„ì„í•´ë³´ëŠ” ê¸€ì„ í•˜ë‚˜ ë” ì¨ë³´ê³  ì‹¶ë„¤ìš”.

ì´ë²ˆì—ë„ ìž˜ ì„¤ëª…í–ˆëŠ”ì§€ ê±±ì •ì´ ë§Žì´ ë©ë‹ˆë‹¤. ìž˜ ì´í•´ë˜ì§€ ì•Šìœ¼ì‹œëŠ” ë¶€ë¶„, ì§ˆë¬¸, í”¼ë“œë°±ì´ ìžˆìœ¼ì‹œë‹¤ë©´ ëŒ“ê¸€ì´ë‚˜ ì´ë©”ì¼ë¡œ ë³´ë‚´ì£¼ì‹œë©´ ê°ì‚¬í•˜ê² ìŠµë‹ˆë‹¤. ðŸ™‡
