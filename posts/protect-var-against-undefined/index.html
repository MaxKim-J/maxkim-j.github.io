<!DOCTYPE html><html><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><meta name="twitter:creator" content="@max_kim_dev" data-gatsby-head="true"/><meta name="twitter:image" content="https://maxkim-j.github.io/thumbnail.png" data-gatsby-head="true"/><meta name="twitter:description" content="JS 변수에 예기치 않은 undefined 할당 방지하기" data-gatsby-head="true"/><meta name="twitter:title" content="김맥스 블로그 | undefined로부터 소중한 변수를 지키는 방법" data-gatsby-head="true"/><meta name="twitter:card" content="summary_large_image" data-gatsby-head="true"/><meta name="image" content="https://maxkim-j.github.io/thumbnail.png" data-gatsby-head="true"/><meta name="description" content="JS 변수에 예기치 않은 undefined 할당 방지하기" data-gatsby-head="true"/><meta name="generator" content="Gatsby 4.19.2"/><style data-href="/styles.468fd3f576a4427dc97e.css" data-identity="gatsby-global-css">@font-face{font-family:Pretendard;font-style:normal;font-weight:500;src:url(/static/Pretendard-Regular-6090e6b5524796768e78f23519d16488.woff2) format("woff2")}@font-face{font-family:Pretendard;font-style:normal;font-weight:550;src:url(/static/Pretendard-SemiBold-7e5eaaf650b9e738991373a7f173b94a.woff2) format("woff2")}body[data-theme=light] *{color:#000}body[data-theme=light] p{color:"$black"}body[data-theme=light] p>code{background-color:#efefef}body[data-theme=light] deckgo-highlight-code{--deckgo-highlight-code-carbon-background:#f5f5f5;--deckgo-highlight-code-carbon-color:#202020;--deckgo-highlight-code-token-atrule:#a626a4;--deckgo-highlight-code-token-comment:#65737e;--deckgo-highlight-code-token-comment-rgb:#65737e;--deckgo-highlight-code-token-function:#ac4142;--deckgo-highlight-code-token-operator:#202020;--deckgo-highlight-code-token-property:#ac4142;--deckgo-highlight-code-token-punctuation:#202020;--deckgo-highlight-code-token-regex:#f4bf75;--deckgo-highlight-code-token-selector:#90a959}body[data-theme=dark] *{background-color:#232323;color:#fff}body[data-theme=dark] a,body[data-theme=dark] a:link,body[data-theme=dark] a:visited{color:#fff}body[data-theme=dark] p>code{background-color:#6b6b6b}body[data-theme=dark] p{color:#fff}body[data-theme=dark] input[type=range]{background-color:#fff}body[data-theme=dark] input[type=range]::-webkit-slider-thumb{background-color:#fff}body[data-theme=dark] deckgo-highlight-code{--deckgo-highlight-code-carbon-background:#2b2b2b;--deckgo-highlight-code-carbon-color:#f8f8f2;--deckgo-highlight-code-token-atrule:#ffa07a;--deckgo-highlight-code-token-comment:#606060;--deckgo-highlight-code-token-comment-rgb:#d4d0ab;--deckgo-highlight-code-token-function:#00e0e0;--deckgo-highlight-code-token-operator:#abe338;--deckgo-highlight-code-token-property:#00e0e0;--deckgo-highlight-code-token-punctuation:gold;--deckgo-highlight-code-token-regex:#f8f8f2;--deckgo-highlight-code-token-selector:#f8f8f2;background-color:#2b2b2b!important}body[data-theme=aquamarine] *{background-color:#0e3e38;color:#99eae1}body[data-theme=aquamarine] a,body[data-theme=aquamarine] a:link,body[data-theme=aquamarine] a:visited,body[data-theme=aquamarine] p{color:#99eae1}body[data-theme=aquamarine] p>code{background-color:#128174}body[data-theme=aquamarine] input[type=range]{background-color:#99eae1}body[data-theme=aquamarine] input[type=range]::-webkit-slider-thumb{background-color:#99eae1}body[data-theme=aquamarine] deckgo-highlight-code{--deckgo-highlight-code-carbon-background:#2b2b2b;--deckgo-highlight-code-carbon-color:#f8f8f2;--deckgo-highlight-code-token-atrule:#ffa07a;--deckgo-highlight-code-token-comment:#606060;--deckgo-highlight-code-token-comment-rgb:#d4d0ab;--deckgo-highlight-code-token-function:#00e0e0;--deckgo-highlight-code-token-operator:#abe338;--deckgo-highlight-code-token-property:#00e0e0;--deckgo-highlight-code-token-punctuation:gold;--deckgo-highlight-code-token-regex:#f8f8f2;--deckgo-highlight-code-token-selector:#f8f8f2;background-color:#042924!important}body[data-theme=lemon] *{background-color:#340e39;color:#d1ce4c}body[data-theme=lemon] a,body[data-theme=lemon] a:link,body[data-theme=lemon] a:visited,body[data-theme=lemon] p{color:#d1ce4c}body[data-theme=lemon] p>code{background-color:#7b3c83}body[data-theme=lemon] input[type=range]{background-color:#d1ce4c}body[data-theme=lemon] input[type=range]::-webkit-slider-thumb{background-color:#d1ce4c}body[data-theme=lemon] deckgo-highlight-code{--deckgo-highlight-code-carbon-background:#2b2b2b;--deckgo-highlight-code-carbon-color:#f8f8f2;--deckgo-highlight-code-token-atrule:#ffa07a;--deckgo-highlight-code-token-comment:#606060;--deckgo-highlight-code-token-comment-rgb:#d4d0ab;--deckgo-highlight-code-token-function:#00e0e0;--deckgo-highlight-code-token-operator:#abe338;--deckgo-highlight-code-token-property:#00e0e0;--deckgo-highlight-code-token-punctuation:gold;--deckgo-highlight-code-token-regex:#f8f8f2;--deckgo-highlight-code-token-selector:#f8f8f2;background-color:#2e042d!important}body[data-theme=mahogany] *{background-color:#eaedc4;color:#c9263c}body[data-theme=mahogany] a,body[data-theme=mahogany] a:link,body[data-theme=mahogany] a:visited,body[data-theme=mahogany] p{color:#c9263c}body[data-theme=mahogany] p>code{background-color:#ffda60}body[data-theme=mahogany] input[type=range]{background-color:#c9263c}body[data-theme=mahogany] input[type=range]::-webkit-slider-thumb{background-color:#c9263c}body[data-theme=mahogany] deckgo-highlight-code{--deckgo-highlight-code-carbon-background:#2b2b2b;--deckgo-highlight-code-carbon-color:#f8f8f2;--deckgo-highlight-code-token-atrule:#ffa07a;--deckgo-highlight-code-token-comment:#606060;--deckgo-highlight-code-token-comment-rgb:#d4d0ab;--deckgo-highlight-code-token-function:#00e0e0;--deckgo-highlight-code-token-operator:#abe338;--deckgo-highlight-code-token-property:#00e0e0;--deckgo-highlight-code-token-punctuation:gold;--deckgo-highlight-code-token-regex:#f8f8f2;--deckgo-highlight-code-token-selector:#f8f8f2;background-color:#333329!important;color:#ffb68f}</style><title data-gatsby-head="true">김맥스 블로그 | undefined로부터 소중한 변수를 지키는 방법</title><style>.gatsby-image-wrapper{position:relative;overflow:hidden}.gatsby-image-wrapper picture.object-fit-polyfill{position:static!important}.gatsby-image-wrapper img{bottom:0;height:100%;left:0;margin:0;max-width:none;padding:0;position:absolute;right:0;top:0;width:100%;object-fit:cover}.gatsby-image-wrapper [data-main-image]{opacity:0;transform:translateZ(0);transition:opacity .25s linear;will-change:opacity}.gatsby-image-wrapper-constrained{display:inline-block;vertical-align:top}</style><noscript><style>.gatsby-image-wrapper noscript [data-main-image]{opacity:1!important}.gatsby-image-wrapper [data-placeholder-image]{opacity:0!important}</style></noscript><script type="module">const e="undefined"!=typeof HTMLImageElement&&"loading"in HTMLImageElement.prototype;e&&document.body.addEventListener("load",(function(e){const t=e.target;if(void 0===t.dataset.mainImage)return;if(void 0===t.dataset.gatsbyImageSsr)return;let a=null,n=t;for(;null===a&&n;)void 0!==n.parentNode.dataset.gatsbyImageWrapper&&(a=n.parentNode),n=n.parentNode;const o=a.querySelector("[data-placeholder-image]"),r=new Image;r.src=t.currentSrc,r.decode().catch((()=>{})).then((()=>{t.style.opacity=1,o&&(o.style.opacity=0,o.style.transition="opacity 500ms linear")}))}),!0);</script><link rel="sitemap" type="application/xml" href="/sitemap/sitemap-index.xml"/><link rel="preconnect" href="https://www.google-analytics.com"/><link rel="dns-prefetch" href="https://www.google-analytics.com"/><style type="text/css">
    .anchor.before {
      position: absolute;
      top: 0;
      left: 0;
      transform: translateX(-100%);
      padding-right: 4px;
    }
    .anchor.after {
      display: inline-block;
      padding-left: 4px;
    }
    h1 .anchor svg,
    h2 .anchor svg,
    h3 .anchor svg,
    h4 .anchor svg,
    h5 .anchor svg,
    h6 .anchor svg {
      visibility: hidden;
    }
    h1:hover .anchor svg,
    h2:hover .anchor svg,
    h3:hover .anchor svg,
    h4:hover .anchor svg,
    h5:hover .anchor svg,
    h6:hover .anchor svg,
    h1 .anchor:focus svg,
    h2 .anchor:focus svg,
    h3 .anchor:focus svg,
    h4 .anchor:focus svg,
    h5 .anchor:focus svg,
    h6 .anchor:focus svg {
      visibility: visible;
    }
  </style><script>
    document.addEventListener("DOMContentLoaded", function(event) {
      var hash = window.decodeURI(location.hash.replace('#', ''))
      if (hash !== '') {
        var element = document.getElementById(hash)
        if (element) {
          var scrollTop = window.pageYOffset || document.documentElement.scrollTop || document.body.scrollTop
          var clientTop = document.documentElement.clientTop || document.body.clientTop || 0
          var offset = element.getBoundingClientRect().top + scrollTop - clientTop
          // Wait for the browser to finish rendering before scrolling.
          setTimeout((function() {
            window.scrollTo(0, offset - 0)
          }), 0)
        }
      }
    })
  </script><style id="stitches">--sxs{--sxs:0 t-juXrtP}@media{:root,.t-juXrtP{--fonts-system:system-ui;--colors-black:#000000;--colors-dark:#232323;--colors-white:#ffffff;--colors-orange:#ffb566;--colors-turquoise:#8cffd6;--colors-pink:#ffa5e4;--fontSizes-mainTitle:30px;--fontSizes-title:28px;--fontSizes-subTitle:24px;--fontSizes-mobileTitle:20px;--fontSizes-description:14px;--fontSizes-mobileDescription:10px;--fontSizes-heading1:32px;--fontSizes-heading2:28px;--fontSizes-heading3:24px;--fontSizes-heading4:20px;--fontSizes-body1:18px;--fontSizes-body2:16px;--fontSizes-body3:14px;--fontSizes-body4:12px;--fontWeights-extraBold:700;--fontWeights-bold:550;--fontWeights-regular:500;--fontWeights-thin:300}}--sxs{--sxs:1 lhZdba fzBkpa}@media{*{font-family:Pretendard}p,body{margin:0;padding:0;font-size:var(--fontSizes-body1)}a{text-decoration:none}a:link{color:var(--colors-black)}a:visited{color:var(--colors-black)}img{width:100%;height:auto}ol{list-style-type:none;margin-block-start:0;margin-block-end:0;margin-inline-start:0;margin-inline-end:0;padding-inline-start:0}h1{font-size:var(--fontSizes-heading1);font-weight:var(--fontWeights-bold)}h2{font-size:var(--fontSizes-heading2);font-weight:var(--fontWeights-bold)}h3{font-size:var(--fontSizes-heading3);font-weight:var(--fontWeights-bold)}h4{font-size:var(--fontSizes-heading4);font-weight:var(--fontWeights-bold)}h5{font-size:var(--fontSizes-heading5);font-weight:var(--fontWeights-bold)}p{margin-bottom:24px;word-wrap:break-word;line-height:1.6;word-break:all}h1{margin-top:48px;margin-bottom:36px}h2{margin:32px 0}h3{margin:28px 0}h4{margin:24px 0}h5{margin:20px 0}p a{text-decoration:underline;text-underline-position:under}p > code{padding:2px 8px;border-radius:8px;font-size:16px}@media (max-width: 730px){p > code{font-size:14px}}blockquote{border-left:3px solid var(--colors-black);padding-left:10px;margin:20px 0;font-style:italic}@media (max-width: 730px){deckgo-highlight-code{font-size:var(--fontSizes-body2)}}deckgo-highlight-code{--deckgo-highlight-code-white-space:pre;--deckgo-highlight-code-margin:12px 0 16px 0;--deckgo-highlight-code-scroll:none;--deckgo-highlight-code-carbon-margin:28px 0;--deckgo-highlight-code-carbon-box-shadow:none}li{line-height:1.8}li > a{text-decoration:underline;text-underline-position:under}}--sxs{--sxs:2 c-llJfQk c-dVNheE c-bkUmzp c-PJLV c-jMkcPK c-kdYLWQ c-iEaapN c-enMnGJ c-jPqceB c-feMWly c-gHothk c-kcUpuv c-zOevm c-iDjjYv c-inPSka c-hLbyMm c-kINvOu c-inYmSa c-gAHJmZ c-eqDGAL c-kxdqJo c-fVALJv}@media{.c-llJfQk{width:100vw;min-height:100vh;display:flex;justify-content:center}.c-dVNheE{padding:24px 18px 0px 18px;box-sizing:border-box;width:920px}@media (max-width: 730px){.c-dVNheE{width:100%}}@media (max-width: 730px){.c-dVNheE p,.c-dVNheE ul,.c-dVNheE li{font-size:var(--fontSizes-body2)}}@media (max-width: 730px){.c-dVNheE h1{font-size:var(--fontSizes-heading2)}}@media (max-width: 730px){.c-dVNheE h2{font-size:var(--fontSizes-heading3)}}@media (max-width: 730px){.c-dVNheE h3{font-size:var(--fontSizes-heading4)}}@media (max-width: 730px){.c-dVNheE h4{font-size:body1}}.c-bkUmzp{display:flex;justify-content:space-between;margin-bottom:82px}.c-jMkcPK{font-size:var(--fontSizes-mainTitle);font-weight:var(--fontWeights-bold)}@media (max-width: 730px){.c-jMkcPK{font-size:var(--fontSizes-subTitle)}}.c-kdYLWQ{display:flex;align-items:center}.c-kdYLWQ >div{margin-left:25px}@media (max-width: 730px){.c-kdYLWQ{font-size:var(--fontSizes-body3)}}.c-iEaapN{position:relative;cursor:pointer}.c-enMnGJ{min-height:700px}.c-jPqceB{margin-top:32px;display:flex;height:32px;align-items:center;justify-content:space-between;bottom:0;z-index:10}.c-jPqceB div{font-size:10px}.c-jPqceB a{text-decoration:underline;font-size:10px}@media (max-width: 730px){.c-jPqceB{font-size:var(--fontSizes-mobileDescription)}}.c-feMWly ol{list-style-type:decimal;margin-block-start:1em;margin-block-end:1em;margin-inline-start:2em}.c-gHothk{margin-bottom:60px}.c-kcUpuv{margin:28px 0}.c-zOevm{font-size:var(--fontSizes-body2);margin-bottom:6px}.c-iDjjYv{font-size:var(--fontSizes-description)}.c-inPSka{width:100%;background-color:var(--colors-black);height:1px;margin:50px 0}.c-hLbyMm{display:flex;justify-content:space-between;font-size:var(--fontSizes-description)}.c-kINvOu{display:flex;justify-content:space-between}.c-kINvOu a{margin-left:20px}.c-kINvOu a:hover{text-decoration:underline;text-underline-position:under}.c-inYmSa{margin-top:20px;display:flex;font-size:var(--fontSizes-description)}.c-inYmSa div{margin-right:18px}.c-inYmSa div:hover{text-decoration:underline;text-underline-position:under}.c-inYmSa div{cursor:pointer}.c-gAHJmZ{margin:20px 0 60px 0;display:flex;justify-content:space-between;font-size:var(--fontSizes-description)}.c-gAHJmZ a:hover{text-decoration:underline;text-underline-position:under}.c-eqDGAL a{margin-left:20px}.c-kxdqJo .utterances{max-width:none}.c-kxdqJo iframe main.timeline{padding:0}.c-fVALJv{font-size:var(--fontSizes-description);margin-right:12px;text-decoration:underline}}</style></head><body><script>
    const savedTheme = localStorage.getItem('maxkim-blog-theme');
    const theme = savedTheme || 'light';
    
    window.__theme = theme;
    window.__setTheme = (newTheme) => {
      document.body.setAttribute("data-theme", newTheme);
      localStorage.setItem('maxkim-blog-theme', newTheme);
    };

    window.__setTheme(theme);
  </script><div id="___gatsby"><div style="outline:none" tabindex="-1" id="gatsby-focus-wrapper"><div class="c-llJfQk"><div class="c-dVNheE"><header><div class="c-bkUmzp"><div class="c-PJLV"><a href="/"><div class="c-jMkcPK">김맥스 블로그</div></a></div><div class="c-kdYLWQ"><div class="c-iEaapN"><div><div>color</div></div></div><div><a href="/gallery">gallery</a></div><div><a href="/about">about</a></div></div></div></header><main class="c-enMnGJ"><div class="c-gHothk"><h1 class="c-kcUpuv">undefined로부터 소중한 변수를 지키는 방법</h1><div class="c-zOevm">JS 변수에 예기치 않은 undefined 할당 방지하기</div><div class="c-iDjjYv"><a class="c-fVALJv" href="/tags/?tag=javascript">#<!-- -->javascript</a></div></div><div class="c-feMWly"><p>자바스크립트는 특이하게도 값이 할당되지 않은 변수에 undefined를 할당합니다. 그래서 자바스크립트 객체에 포함되지 않는 키를 통해 객체 프로퍼티에 접근하면 undefined를 뿜습니다. 뭔가가 할당되어 있긴 하기 때문에 이 변수에 접근했다는 것 자체로 에러를 내지 않고 <strong>돌아는 갑</strong>니다. 막상 그 프로퍼티나 변수를 가지고 무언가를 할 때 undefined로는 할 수 없어 에러가 납니다. 콘솔에 뜬 <code>뭐뭐는 undefined의 프로퍼티가 아니다</code>라는 식의 에러를 보면 진작에 좀 알려주지 얄밉다는 생각이 듭니다,,</p><h2 id="js-빌런-undefined" style="position:relative"><a href="#js-%EB%B9%8C%EB%9F%B0-undefined" aria-label="js 빌런 undefined permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>JS 빌런 undefined</h2><deckgo-highlight-code language="javascript" theme="a11y-dark">
          <code slot="code">const zooObj = {
  cat: { age: 4, color: &#x27;orange&#x27; },
  dog: { age: 7, color: &#x27;black&#x27; },
};

console.log(animalsObj.elephant); //undefined - 에러가 나지 않는다

// 막상 그거 가지고 뭐 하려고 하면 에러를 뿜는다
// TypeError: Cannot read property &#x27;age&#x27; of undefined
console.log(animalsObj.elephant.age);

function getElephantAge() {
  return zooObj.elephant.age;
}</code>
        </deckgo-highlight-code><p>큰 앱에서는 이런 현상이 반복되다 보면 어떤 부수효과로 인해 객체의 프로퍼티가 없어 undefined가 할당되었는지 추적해야 되는 경우가 생기고 꽤 머리가 아픕니다. 값이 할당되지 않았다면 undefined가 아니라 다른 임의의 값이라던가, 다른 거짓값이라도 지정해 줄 수 있다면 예기치 않는 undefined 할당으로 코드의 흐름이 뚝 끊기는 일을 방지할 수 있을 것입니다. 이번 포스팅에서는 변수에 실수로 undefined가 할당되는 것을 방지할 수 있는 자바스크립트 문법을 간단하게 정리해 보려고요.</p><blockquote><p>물론 타입스크립트가 제공하는 정적 타이핑을 사용해도 해결할 수 있는 문제입니다. 그렇지만 이 포스팅에서는 제안 단계의 혹은 정식 릴리즈된 <strong>자바스크립트 문법으로만</strong> 예기치 못한 undefined 할당을 방지하는 방법에 대해 서술합니다!</p></blockquote><h2 id="1-default-parameter" style="position:relative"><a href="#1-default-parameter" aria-label="1 default parameter permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><a href="https://developer.mozilla.org/ko/docs/Web/JavaScript/Reference/Functions/Default_parameters">1. default parameter</a></h2><deckgo-highlight-code language="javascript" theme="a11y-dark">
          <code slot="code">const defaultZooObj = {
  cat: { age: 4, color: &#x27;red&#x27; },
  dog: { age: 5, color: &#x27;black&#x27; },
  elephant: { age: 34, color: &#x27;green&#x27; },
};

function getElephantAge(zooObj = defaultZooObj) {
  return zooObj.elephant.age;
}

const elphantAge = getElephantAge(undefined); //34</code>
        </deckgo-highlight-code><p>함수의 파라미터가 undefined일 경우를 방지하는 방법으로 함수의 기본 매개변수를 사용할 수 있습니다. ES6에 추가된 문법이구요. 함수에서 파라미터가 따로 할당되지 않았을 때뿐만 아니라 undefined가 파라미터에 할당되었을 때도 기본 값으로 설정한 값이 할당됩니다.</p><p>실제 앱을 만들 때는 예시로 든 코드블럭처럼 커다란 default 값을 따로 할당해주는 일은 드물 것 같습니다. 타이핑 측면에서 너무 손해인 것 같아요. 중첩된 객체같은 복잡한 파라미터 보다는 원시 타입의 파라미터에 undefined 할당을 방지하는 용도로 사용하는게 더 적합할 것 같습니다.</p><deckgo-highlight-code language="javascript" theme="a11y-dark">
          <code slot="code">function addAge(elephantAge = 34, myAge = 25) {
  return elephantAge + myAge;
}

addAge(undefined, 20); // 54
addAge(45, undefined); // 70</code>
        </deckgo-highlight-code><h2 id="2-double-negation" style="position:relative"><a href="#2-double-negation" aria-label="2 double negation permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><a href="https://developer.mozilla.org/ko/docs/Web/JavaScript/Reference/Operators/%EB%85%BC%EB%A6%AC_%EC%97%B0%EC%82%B0%EC%9E%90(Logical_Operators)">2. double negation</a></h2><deckgo-highlight-code language="javascript" theme="a11y-dark">
          <code slot="code">const elephantAge = !!zooObj.elephant.age; // undefined가 아닌 false</code>
        </deckgo-highlight-code><p><code>!!</code>는 자바스크립트에서 전부터 존재했던 논리 연산자의 한 종류입니다. 어떤 형태의 값이든 불리언 값으로 강제 변환되고 값의 참/거짓 여부에 따라서 true와 false가 됩니다. 어떤 부수효과로 인해 elephant의 값이 undefined일 경우, 이 연산자를 통해 elephant에 접근하면 false값을 얻습니다. undefined를 제거할 수 있는 것이죠! 에어비엔비 자바스크립트 스타일 가이드에서 자칫 불필요할 수 있는 삼항연산자의 대용으로 추천하고 있는 문법입니다. <a href="https://medium.com/better-programming/javascript-bang-bang-i-shot-you-down-use-of-double-bangs-in-javascript-7c9d94446054">bang(!) bang(!) you`re boolean</a> 이런 식으로 기억하면 좋다네요.</p><h2 id="3-optional-chaining" style="position:relative"><a href="#3-optional-chaining" aria-label="3 optional chaining permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><a href="https://developer.mozilla.org/ko/docs/Web/JavaScript/Reference/Operators/Optional_chaining">3. optional chaining</a></h2><deckgo-highlight-code language="javascript" theme="a11y-dark">
          <code slot="code">const elephantAge = zooObj.elephant?.age; //undefined</code>
        </deckgo-highlight-code><p><code>?</code> 와 함께 체이닝을 하는 이 문법은 릴리즈된 ES문법은 아닙니다. <a href="https://github.com/tc39/proposal-optional-chaining/">tc39 proposal stage 4</a>에 있어서 아마 곧 정식으로 릴리즈될 가능성이 매우 높은 문법이죠. 이 문법은 undefined 할당 자체를 막는다기 보다는 undefined를 프로퍼티의 키로 참조함으로써(즉 <code>.</code>를 사용해서) 발생하는 에러를 막아줍니다. undefined에 <code>.</code>로 접근해도 에러를 발생시키지 않고 대신에 undefined를 뱉습니다.</p><p>개인적으로 이 포스팅에서 소개하는 문법 중 가장 유용하다고 생각합니다. 실제 앱 빌드에서 발생하는 undefined 타입 에러는 객체 안에 어떤 프로퍼티가 예기치 못하게 undefined일 경우일 때 발생합니다. 이런 상황에서 optional chaining을 사용하면 프로퍼티를 평가하는 조건문을 작성하지 않아도 에러를 뿜지 않으면서 프로퍼티의 존재 여부를 알 수 있기 때문입니다.</p><h2 id="4-nullish-coalescing-operator" style="position:relative"><a href="#4-nullish-coalescing-operator" aria-label="4 nullish coalescing operator permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><a href="https://developer.mozilla.org/ko/docs/Web/JavaScript/Reference/Operators/Nullish_coalescing_operator">4. nullish coalescing operator</a></h2><deckgo-highlight-code language="javascript" theme="a11y-dark">
          <code slot="code">// undefined가 아니라 0이 할당됩니다.
const elephantAge = zooObj.elephant ?? 0;

// 얼추 위와 같습니다
if (zooObj.elephant) {
  return true;
} else {
  return false;
}

// optinal chaining과 궁합이 좋습니다.
const elephantAge = zooObj.elephant?.age ?? 0;</code>
        </deckgo-highlight-code><p><code>??</code>, 널 병합 연산자는 연산자 왼쪽의 값이 거짓값이라면 연산자 오른쪽의 값을 자동으로 할당합니다. 이 문법도 <a href="https://github.com/tc39/proposal-nullish-coalescing">tc39 proposal의 stage 4</a>에 있습니다. 완전 간결한 조건문 같은 느낌이라 코드의 가독성을 높이는데도 좋고, 객체의 어떤 프로퍼티의 참거짓 여부를 평가해야 한다면 optional chaining과 간단히 같이 쓸 수 있습니다.</p><h2 id="마무리" style="position:relative"><a href="#%EB%A7%88%EB%AC%B4%EB%A6%AC" aria-label="마무리 permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>마무리</h2><p>소중한 변수를 undefined 할당의 위협으로부터 보호하는 몇가지 자바스크립트 문법에 대해 살펴봤습니다. optional chaining이나 nullish coalescing operator같은 경우는 회사의 프로  젝트에 적용되었던 문법인데요. 처음 알게 되었습니다. 최신 트렌드에 더 민감한 개발자가 되어야겠다는 생각을 하게 된 계기가 되었습니다. 견고한 코드를 위해 tc39나 매년 발표되는 ES의 최신 문법들의 도입을 고려할 수 있는 능력을 갖추면 좋을 것 같습니다. 그리고 프로젝트가 최신 문법들을 원할하게 지원할 수 있도록 babel같은 트랜스파일러에 대해서도 공부를 더 해봐야 할 것 같아요.</p><p>다음 링크는 optional chaining이나 nullish coalescing operator의 프로젝트 도입을 위한 바벨 폴리필 정보입니다. 두 문법의 프로젝트 도입을 고려하시는 분들은 참고하세요!</p><ul><li><a href="https://babeljs.io/docs/en/babel-plugin-proposal-optional-chaining">@babel/plugin-proposal-optional-chaining</a></li><li><a href="https://babeljs.io/docs/en/babel-plugin-proposal-nullish-coalescing-operator">@babel/plugin-proposal-nullish-coalescing-operator</a></li></ul></div><div><div class="c-inPSka"></div><div class="c-hLbyMm"><div>Written by 김맥스</div><div class="c-kINvOu"><a href="https://twitter.com/max_kim_dev">twitter</a><a href="https://github.com/MaxKim-J">github</a><a href="https://www.linkedin.com/in/%EC%A2%85%ED%98%81-%EA%B9%80-903967177/">linkedin</a></div></div><div class="c-inYmSa"><div>트위터에 공유하기</div><div>링크 복사하기</div></div><div class="c-gAHJmZ"><a href="/">글 목록으로 돌아가기</a><div class="c-eqDGAL"><a href="/posts/dev-job-after-junior">이전글</a><a href="/posts/school-personal-project">다음글</a><a href="/posts/suspense-argibraic-effect">랜덤</a></div></div><div class="c-kxdqJo"></div></div></main><footer><div class="c-jPqceB"><div>김맥스 블로그ⓒ김종혁, 2022</div><div>Powered By <a href="https://www.gatsbyjs.com/">gatsby</a> /<a href="">gh-pages</a></div></div></footer></div></div></div><div id="gatsby-announcer" style="position:absolute;top:0;width:1px;height:1px;padding:0;overflow:hidden;clip:rect(0, 0, 0, 0);white-space:nowrap;border:0" aria-live="assertive" aria-atomic="true"></div></div><script>
  
  
  if(true) {
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
  }
  if (typeof ga === "function") {
    ga('create', 'UA-132859535-2', 'auto', {});
      
      
      
      
      
      }</script><script id="gatsby-script-loader">/*<![CDATA[*/window.pagePath="/posts/protect-var-against-undefined/";window.___webpackCompilationHash="2a3b05df6a055571eeba";/*]]>*/</script><script id="gatsby-chunk-mapping">/*<![CDATA[*/window.___chunkMapping={"polyfill":["/polyfill-f012ba4a76c3d692158a.js"],"app":["/app-9537a4856cd0b2a1dd44.js"],"component---src-pages-404-tsx":["/component---src-pages-404-tsx-295f24e193d54660625f.js"],"component---src-pages-about-index-tsx":["/component---src-pages-about-index-tsx-bd58eea31066c9761150.js"],"component---src-pages-gallery-index-tsx":["/component---src-pages-gallery-index-tsx-0a570cc011ebe9b221fc.js"],"component---src-pages-index-tsx":["/component---src-pages-index-tsx-880f6ccf3b6f781bd1ed.js"],"component---src-pages-posts-mdx-slug-tsx":["/component---src-pages-posts-mdx-slug-tsx-9439639584db4ebb1b6b.js"],"component---src-pages-tags-index-tsx":["/component---src-pages-tags-index-tsx-a9c51cc3342289b54b71.js"]};/*]]>*/</script><script src="/polyfill-f012ba4a76c3d692158a.js" nomodule=""></script><script src="/app-9537a4856cd0b2a1dd44.js" async=""></script><script src="/framework-0ea894b592cd5d21d3c6.js" async=""></script><script src="/webpack-runtime-c8112c1ed24ebd1b7711.js" async=""></script></body></html>