<!DOCTYPE html><html><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><meta name="twitter:creator" content="@max_kim_dev" data-gatsby-head="true"/><meta name="twitter:image" content="https://maxkim-j.github.io/thumbnail.png" data-gatsby-head="true"/><meta name="twitter:description" content="Github Actions와 Slack을 이용한 레포지토리 자동화" data-gatsby-head="true"/><meta name="twitter:title" content="김맥스 블로그 | 깃헙 액션 + 쉘 스크립트로 알고리즘 풀이 알림봇 만들기" data-gatsby-head="true"/><meta name="twitter:card" content="summary_large_image" data-gatsby-head="true"/><meta name="image" content="https://maxkim-j.github.io/thumbnail.png" data-gatsby-head="true"/><meta name="description" content="Github Actions와 Slack을 이용한 레포지토리 자동화" data-gatsby-head="true"/><meta name="generator" content="Gatsby 4.19.2"/><style data-href="/styles.ffbc937d81cd1f5b5a7f.css" data-identity="gatsby-global-css">@import url(https://cdn.jsdelivr.net/gh/orioncactus/pretendard@v1.3.5/dist/web/static/pretendard-dynamic-subset.css);body[data-theme=light] *{color:#000}body[data-theme=light] p{color:"$black"}body[data-theme=light] deckgo-highlight-code{--deckgo-highlight-code-carbon-background:#f5f5f5;--deckgo-highlight-code-carbon-color:#202020;--deckgo-highlight-code-token-atrule:#a626a4;--deckgo-highlight-code-token-comment:#65737e;--deckgo-highlight-code-token-comment-rgb:#65737e;--deckgo-highlight-code-token-function:#ac4142;--deckgo-highlight-code-token-operator:#202020;--deckgo-highlight-code-token-property:#ac4142;--deckgo-highlight-code-token-punctuation:#202020;--deckgo-highlight-code-token-regex:#f4bf75;--deckgo-highlight-code-token-selector:#90a959}body[data-theme=dark] *{background-color:#232323;color:#fff}body[data-theme=dark] a,body[data-theme=dark] a:link,body[data-theme=dark] a:visited,body[data-theme=dark] p{color:#fff}body[data-theme=dark] input[type=range]{background-color:#fff}body[data-theme=dark] input[type=range]::-webkit-slider-thumb{background-color:#fff}body[data-theme=dark] deckgo-highlight-code{--deckgo-highlight-code-carbon-background:#2b2b2b;--deckgo-highlight-code-carbon-color:#f8f8f2;--deckgo-highlight-code-token-atrule:#ffa07a;--deckgo-highlight-code-token-comment:#606060;--deckgo-highlight-code-token-comment-rgb:#d4d0ab;--deckgo-highlight-code-token-function:#00e0e0;--deckgo-highlight-code-token-operator:#abe338;--deckgo-highlight-code-token-property:#00e0e0;--deckgo-highlight-code-token-punctuation:gold;--deckgo-highlight-code-token-regex:#f8f8f2;--deckgo-highlight-code-token-selector:#f8f8f2;background-color:#2b2b2b!important}body[data-theme=aquamarine] *{background-color:#0e3e38;color:#99eae1}body[data-theme=aquamarine] a,body[data-theme=aquamarine] a:link,body[data-theme=aquamarine] a:visited,body[data-theme=aquamarine] p{color:#99eae1}body[data-theme=aquamarine] input[type=range]{background-color:#99eae1}body[data-theme=aquamarine] input[type=range]::-webkit-slider-thumb{background-color:#99eae1}body[data-theme=aquamarine] deckgo-highlight-code{--deckgo-highlight-code-carbon-background:#2b2b2b;--deckgo-highlight-code-carbon-color:#f8f8f2;--deckgo-highlight-code-token-atrule:#ffa07a;--deckgo-highlight-code-token-comment:#606060;--deckgo-highlight-code-token-comment-rgb:#d4d0ab;--deckgo-highlight-code-token-function:#00e0e0;--deckgo-highlight-code-token-operator:#abe338;--deckgo-highlight-code-token-property:#00e0e0;--deckgo-highlight-code-token-punctuation:gold;--deckgo-highlight-code-token-regex:#f8f8f2;--deckgo-highlight-code-token-selector:#f8f8f2;background-color:#2b2b2b!important}body[data-theme=lemon] *{background-color:#340e39;color:#d1ce4c}body[data-theme=lemon] a,body[data-theme=lemon] a:link,body[data-theme=lemon] a:visited,body[data-theme=lemon] p{color:#d1ce4c}body[data-theme=lemon] input[type=range]{background-color:#d1ce4c}body[data-theme=lemon] input[type=range]::-webkit-slider-thumb{background-color:#d1ce4c}body[data-theme=lemon] deckgo-highlight-code{--deckgo-highlight-code-carbon-background:#2b2b2b;--deckgo-highlight-code-carbon-color:#f8f8f2;--deckgo-highlight-code-token-atrule:#ffa07a;--deckgo-highlight-code-token-comment:#606060;--deckgo-highlight-code-token-comment-rgb:#d4d0ab;--deckgo-highlight-code-token-function:#00e0e0;--deckgo-highlight-code-token-operator:#abe338;--deckgo-highlight-code-token-property:#00e0e0;--deckgo-highlight-code-token-punctuation:gold;--deckgo-highlight-code-token-regex:#f8f8f2;--deckgo-highlight-code-token-selector:#f8f8f2;background-color:#2b2b2b!important}body[data-theme=mahogany] *{background-color:#eaedc4;color:#c9263c}body[data-theme=mahogany] a,body[data-theme=mahogany] a:link,body[data-theme=mahogany] a:visited,body[data-theme=mahogany] p{color:#c9263c}body[data-theme=mahogany] input[type=range]{background-color:#c9263c}body[data-theme=mahogany] input[type=range]::-webkit-slider-thumb{background-color:#c9263c}body[data-theme=mahogany] deckgo-highlight-code{--deckgo-highlight-code-carbon-background:#2b2b2b;--deckgo-highlight-code-carbon-color:#f8f8f2;--deckgo-highlight-code-token-atrule:#ffa07a;--deckgo-highlight-code-token-comment:#606060;--deckgo-highlight-code-token-comment-rgb:#d4d0ab;--deckgo-highlight-code-token-function:#00e0e0;--deckgo-highlight-code-token-operator:#abe338;--deckgo-highlight-code-token-property:#00e0e0;--deckgo-highlight-code-token-punctuation:gold;--deckgo-highlight-code-token-regex:#f8f8f2;--deckgo-highlight-code-token-selector:#f8f8f2;background-color:#2b2b2b!important}</style><title data-gatsby-head="true">김맥스 블로그 | 깃헙 액션 + 쉘 스크립트로 알고리즘 풀이 알림봇 만들기</title><style>.gatsby-image-wrapper{position:relative;overflow:hidden}.gatsby-image-wrapper picture.object-fit-polyfill{position:static!important}.gatsby-image-wrapper img{bottom:0;height:100%;left:0;margin:0;max-width:none;padding:0;position:absolute;right:0;top:0;width:100%;object-fit:cover}.gatsby-image-wrapper [data-main-image]{opacity:0;transform:translateZ(0);transition:opacity .25s linear;will-change:opacity}.gatsby-image-wrapper-constrained{display:inline-block;vertical-align:top}</style><noscript><style>.gatsby-image-wrapper noscript [data-main-image]{opacity:1!important}.gatsby-image-wrapper [data-placeholder-image]{opacity:0!important}</style></noscript><script type="module">const e="undefined"!=typeof HTMLImageElement&&"loading"in HTMLImageElement.prototype;e&&document.body.addEventListener("load",(function(e){const t=e.target;if(void 0===t.dataset.mainImage)return;if(void 0===t.dataset.gatsbyImageSsr)return;let a=null,n=t;for(;null===a&&n;)void 0!==n.parentNode.dataset.gatsbyImageWrapper&&(a=n.parentNode),n=n.parentNode;const o=a.querySelector("[data-placeholder-image]"),r=new Image;r.src=t.currentSrc,r.decode().catch((()=>{})).then((()=>{t.style.opacity=1,o&&(o.style.opacity=0,o.style.transition="opacity 500ms linear")}))}),!0);</script><link rel="sitemap" type="application/xml" href="/sitemap/sitemap-index.xml"/><link rel="preconnect" href="https://www.google-analytics.com"/><link rel="dns-prefetch" href="https://www.google-analytics.com"/><style type="text/css">
    .anchor.before {
      position: absolute;
      top: 0;
      left: 0;
      transform: translateX(-100%);
      padding-right: 4px;
    }
    .anchor.after {
      display: inline-block;
      padding-left: 4px;
    }
    h1 .anchor svg,
    h2 .anchor svg,
    h3 .anchor svg,
    h4 .anchor svg,
    h5 .anchor svg,
    h6 .anchor svg {
      visibility: hidden;
    }
    h1:hover .anchor svg,
    h2:hover .anchor svg,
    h3:hover .anchor svg,
    h4:hover .anchor svg,
    h5:hover .anchor svg,
    h6:hover .anchor svg,
    h1 .anchor:focus svg,
    h2 .anchor:focus svg,
    h3 .anchor:focus svg,
    h4 .anchor:focus svg,
    h5 .anchor:focus svg,
    h6 .anchor:focus svg {
      visibility: visible;
    }
  </style><script>
    document.addEventListener("DOMContentLoaded", function(event) {
      var hash = window.decodeURI(location.hash.replace('#', ''))
      if (hash !== '') {
        var element = document.getElementById(hash)
        if (element) {
          var scrollTop = window.pageYOffset || document.documentElement.scrollTop || document.body.scrollTop
          var clientTop = document.documentElement.clientTop || document.body.clientTop || 0
          var offset = element.getBoundingClientRect().top + scrollTop - clientTop
          // Wait for the browser to finish rendering before scrolling.
          setTimeout((function() {
            window.scrollTo(0, offset - 0)
          }), 0)
        }
      }
    })
  </script><style id="stitches">--sxs{--sxs:0 t-juXrtP}@media{:root,.t-juXrtP{--fonts-system:system-ui;--colors-black:#000000;--colors-dark:#232323;--colors-white:#ffffff;--colors-orange:#ffb566;--colors-turquoise:#8cffd6;--colors-pink:#ffa5e4;--fontSizes-mainTitle:30px;--fontSizes-title:28px;--fontSizes-subTitle:24px;--fontSizes-mobileTitle:20px;--fontSizes-description:14px;--fontSizes-mobileDescription:10px;--fontSizes-heading1:32px;--fontSizes-heading2:28px;--fontSizes-heading3:24px;--fontSizes-heading4:20px;--fontSizes-body1:18px;--fontSizes-body2:16px;--fontSizes-body3:14px;--fontSizes-body4:12px;--fontWeights-extraBold:700;--fontWeights-bold:550;--fontWeights-regular:500;--fontWeights-thin:300}}--sxs{--sxs:1 lhZdba fiFvXz}@media{*{font-family:Pretendard}p,body{margin:0;padding:0;font-size:var(--fontSizes-body1)}a{text-decoration:none}a:link{color:var(--colors-black)}a:visited{color:var(--colors-black)}img{width:100%;height:auto}ol{list-style-type:none;margin-block-start:0;margin-block-end:0;margin-inline-start:0;margin-inline-end:0;padding-inline-start:0}h1{font-size:var(--fontSizes-heading1);font-weight:var(--fontWeights-bold)}h2{font-size:var(--fontSizes-heading2);font-weight:var(--fontWeights-bold)}h3{font-size:var(--fontSizes-heading3);font-weight:var(--fontWeights-bold)}h4{font-size:var(--fontSizes-heading4);font-weight:var(--fontWeights-bold)}h5{font-size:var(--fontSizes-heading5);font-weight:var(--fontWeights-bold)}p{margin-bottom:24px;word-wrap:break-word;line-height:1.6;word-break:all}h1{margin-top:48px;margin-bottom:36px}h2{margin:32px 0}h3{margin:28px 0}h4{margin:24px 0}h5{margin:20px 0}p a{text-decoration:underline;text-underline-position:under}p > code{padding:2px 8px;border-radius:8px;font-size:16px}blockquote{border-left:3px solid var(--colors-black);padding-left:10px;margin:20px 0;font-style:italic}@media (max-width: 730px){deckgo-highlight-code{font-size:var(--fontSizes-body2)}}deckgo-highlight-code{--deckgo-highlight-code-white-space:pre;--deckgo-highlight-code-margin:12px 0 16px 0;--deckgo-highlight-code-scroll:none;--deckgo-highlight-code-carbon-margin:28px 0;--deckgo-highlight-code-carbon-box-shadow:none}li{line-height:1.8}li > a{text-decoration:underline;text-underline-position:under}}--sxs{--sxs:2 c-feMWly c-llJfQk c-dVNheE c-bkUmzp c-PJLV c-jMkcPK c-kdYLWQ c-iEaapN c-enMnGJ c-gHothk c-kcUpuv c-zOevm c-iDjjYv c-fVALJv c-inPSka c-hLbyMm c-kINvOu c-inYmSa c-gAHJmZ c-eqDGAL c-kxdqJo c-jPqceB}@media{.c-feMWly ol{list-style-type:decimal;margin-block-start:1em;margin-block-end:1em;margin-inline-start:2em}.c-llJfQk{width:100vw;min-height:100vh;display:flex;justify-content:center}.c-dVNheE{padding:24px 18px 0px 18px;box-sizing:border-box;width:920px}@media (max-width: 730px){.c-dVNheE{width:100%}}@media (max-width: 730px){.c-dVNheE p,.c-dVNheE ul,.c-dVNheE li{font-size:var(--fontSizes-body2)}}@media (max-width: 730px){.c-dVNheE h1{font-size:var(--fontSizes-heading2)}}@media (max-width: 730px){.c-dVNheE h2{font-size:var(--fontSizes-heading3)}}@media (max-width: 730px){.c-dVNheE h3{font-size:var(--fontSizes-heading4)}}@media (max-width: 730px){.c-dVNheE h4{font-size:body1}}.c-bkUmzp{display:flex;justify-content:space-between;margin-bottom:82px}.c-jMkcPK{font-size:var(--fontSizes-mainTitle);font-weight:var(--fontWeights-bold)}@media (max-width: 730px){.c-jMkcPK{font-size:var(--fontSizes-subTitle)}}.c-kdYLWQ{display:flex;align-items:center}.c-kdYLWQ >div{margin-left:25px}@media (max-width: 730px){.c-kdYLWQ{font-size:var(--fontSizes-body3)}}.c-iEaapN{position:relative;cursor:pointer}.c-enMnGJ{min-height:700px}.c-gHothk{margin-bottom:60px}.c-kcUpuv{margin:28px 0}.c-zOevm{font-size:var(--fontSizes-body2);margin-bottom:6px}.c-iDjjYv{font-size:var(--fontSizes-description)}.c-fVALJv{font-size:var(--fontSizes-description);margin-right:12px;text-decoration:underline}.c-inPSka{width:100%;background-color:var(--colors-black);height:1px;margin:50px 0}.c-hLbyMm{display:flex;justify-content:space-between;font-size:var(--fontSizes-description)}.c-kINvOu{display:flex;justify-content:space-between}.c-kINvOu a{margin-left:20px}.c-kINvOu a:hover{text-decoration:underline;text-underline-position:under}.c-inYmSa{margin-top:20px;display:flex;font-size:var(--fontSizes-description)}.c-inYmSa div{margin-right:18px}.c-inYmSa div:hover{text-decoration:underline;text-underline-position:under}.c-inYmSa div{cursor:pointer}.c-gAHJmZ{margin:20px 0 60px 0;display:flex;justify-content:space-between;font-size:var(--fontSizes-description)}.c-gAHJmZ a:hover{text-decoration:underline;text-underline-position:under}.c-eqDGAL a{margin-left:20px}.c-kxdqJo .utterances{max-width:none}.c-kxdqJo iframe main.timeline{padding:0}.c-jPqceB{margin-top:32px;display:flex;height:32px;align-items:center;justify-content:space-between;bottom:0;z-index:10}.c-jPqceB div{font-size:10px}.c-jPqceB a{text-decoration:underline;font-size:10px}@media (max-width: 730px){.c-jPqceB{font-size:var(--fontSizes-mobileDescription)}}}</style></head><body><script>
    const savedTheme = localStorage.getItem('maxkim-blog-theme');
    const theme = savedTheme || 'light';
    
    window.__theme = theme;
    window.__setTheme = (newTheme) => {
      document.body.setAttribute("data-theme", newTheme);
      localStorage.setItem('maxkim-blog-theme', newTheme);
    };

    window.__setTheme(theme);
  </script><div id="___gatsby"><div style="outline:none" tabindex="-1" id="gatsby-focus-wrapper"><div class="c-llJfQk"><div class="c-dVNheE"><header><div class="c-bkUmzp"><div class="c-PJLV"><a href="/"><div class="c-jMkcPK">김맥스 블로그</div></a></div><div class="c-kdYLWQ"><div class="c-iEaapN"><div><div>color</div></div></div><div><a href="/gallery">gallery</a></div><div><a href="/about">about</a></div></div></div></header><main class="c-enMnGJ"><div class="c-gHothk"><h1 class="c-kcUpuv">깃헙 액션 + 쉘 스크립트로 알고리즘 풀이 알림봇 만들기</h1><div class="c-zOevm">Github Actions와 Slack을 이용한 레포지토리 자동화</div><div class="c-iDjjYv"><a class="c-fVALJv" href="/tags/?tag=tutorial">#<!-- -->tutorial</a><a class="c-fVALJv" href="/tags/?tag=infrastructure">#<!-- -->infrastructure</a><a class="c-fVALJv" href="/tags/?tag=automation">#<!-- -->automation</a></div></div><div class="c-feMWly"><p>깃헙에 제가 풀었던 <a href="https://github.com/MaxKim-J/Algo">알고리즘 문제들을 기록하는 레포지토리</a>가 있습니다. 매달 폴더를 만들고 푼 문제의 답안을 저장하는 방식으로 기록하는 레포지토리인데요. Github Actions에서 cron job 설정이 가능하다는 것을 알게 되어, Slack과 연동해 매일/매주 단위로 알고리즘 풀이 관련 알림을 보내는 레포지토리 자동화를 진행해 보았습니다.</p><p><span class="gatsby-resp-image-wrapper" style="position:relative;display:block;margin-left:auto;margin-right:auto;max-width:475px">
      <a class="gatsby-resp-image-link" href="/static/90b92c3f00711dd04cfd225e17aebbc9/466da/slack-bot.png" style="display:block" target="_blank" rel="noopener">
    <span class="gatsby-resp-image-background-image" style="padding-bottom:59.66666666666667%;position:relative;bottom:0;left:0;background-image:url(&#x27;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAYAAABiDJ37AAAACXBIWXMAAAsTAAALEwEAmpwYAAACB0lEQVQoz01T25KaUBDkF2J2vSwodwTkqiCKgqKwajapVP4nb/mBvOR7OzWDh+RhauDM7XT3HGmq6HiZGZjIKsZvC7zO5vw9m+uYKhr7t4UxGJ25qxiHukFWHHA8X+GF6RCXdFNDGqkwlwEHgngDxw8x120sdJuTaBCZGKBoFhaG0+cYDhTN5DyKSbd2iz+/fiDalGjaG5rujrJqkGQF0mwHP0xhuwEcP+Kil6mC0VjG54nM38ITMhoomW6MOD9hFa2x3VfYFCXSfMcN4/UWxaFmaEVZYZ3v4QUJirJGtM4RJhl7qvXCpIc8kRcYjWcIkoz5KOuGmzbtHXXT8pBkU7An3g71Be+Pbxzr7h/YV2e+ve2FfcOedB2quYTh+IMRVDeIoVsux3TbGzibP7klT/UEW3DMDSdyrzLxQCbU/l8I4enM8ULsDifkuyPqpmMaZKGyomqwLBWq6cJcrjjZsD1WUlFN9APVYZXI6JaUS0gsd8X/IiZ1TYLfP7tB5ev7g7kiskkUhm17bFRANyeIwkas8j80kh/lOLcfCOKMlSRBSE1amSTbsaKbbcmihGkOyw2egxJecNrdpR/xOUOmzp9eZwjTDNW5ZZXX2z3qS4fqfGWeROPj6YLj6YrH1+/MXXv7wjtLAvrP1yIJ7KQmvRBhtCp0I1oH0/HZC+iCPzrTLJcXW0D+C6+pZP5c/g83AAAAAElFTkSuQmCC&#x27;);background-size:cover;display:block"></span>
  <img class="gatsby-resp-image-image" alt="일일 알림" title="일일 알림" src="/static/90b92c3f00711dd04cfd225e17aebbc9/466da/slack-bot.png" srcSet="/static/90b92c3f00711dd04cfd225e17aebbc9/5a46d/slack-bot.png 300w,/static/90b92c3f00711dd04cfd225e17aebbc9/466da/slack-bot.png 475w" sizes="(max-width: 475px) 100vw, 475px" style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0" loading="lazy" decoding="async"/>
  </a>
    </span></p><p>이 일일 알림은 매일 밤 8시에 이번달에 푼 알고리즘 문제의 개수와, 목표(30문제) 문제 사이의 차이가 얼마나 되는지 알 수 있게 해줍니다. 퇴근하고 밤 시간에 알고리즘 풀기가 너무 지쳤었는데, 알림을 보면서 누적되는 성과를 눈으로 확인할 수 있어 자극도 되고, 공부 내용에 대한 관리도 용이해졌던 것 같습니다.</p><p><a href="https://github.com/actions/github-script">github-scripts</a> 같은 마켓플레이스에 이미 만들어져있는 액션을 쓰면 JS로도 이러한 자동화 스크립트를 작성하는게 가능해집니다만, 일일히 알림 보낼때마다 Actions에서 Node를 셋업하기 보다는 아예 터미널에서 더 빠르게 동작할 수 있도록 만들면 좋을 것 같아 Bash Shell Script로 작성했습니다.</p><h2 id="github-actions와-yaml" style="position:relative"><a href="#github-actions%EC%99%80-yaml" aria-label="github actions와 yaml permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Github Actions와 YAML</h2><p>먼저 github actions를 통해 레포지토리에서 일어나는 여러 이벤트(특정 branch에 push한다던가, release를 만든다거나, PR을 올린다거나)에 대해 특정 로직을 실행하도록 할 수 있습니다. yaml 파일을 통해 레포지토리에서 발생하는 이벤트에 대한 특정 로직들을 지정할 수 있는데요.</p><p>yaml 파일의 구조는 다음과 같습니다. 해당 action은 <a href="https://github.com/MaxKim-J/functional-flattener">제가 만든 npm 라이브러리</a>에서 쓰고 있는, 레포지토리에서 릴리즈를 만들 때 npm에 자동으로 배포할 수 있게 하는 action입니다. 자세한 API는 <a href="https://docs.github.com/en/actions">Docs</a>를 참고하시면 좋을 것 같습니다!</p><deckgo-highlight-code language="yaml" theme="a11y-dark">
          <code slot="code">
name: Publish # action의 이름

# on 단락에서 지정해준 이벤트가 레포지토리에서 일어나면 job을 실행합니다.

on:

# release를 만들었을 때

release:
types: [published]

jobs:
  build: # 작업의 이름
  runs-on: ubuntu-latest # 가상머신의 버전 설정 # 작업을 이루는 단계들입니다.
  steps: # uses를 통해 이미 만들어진 github actions를 사용할 수 있습니다. # 해당 레포지토리로 체크아웃 한 후, node 환경을 셋업합니다. - uses: actions/checkout@v1 - uses: actions/setup-node@v1
  with:
  node-version: 12
  registry-url: https://registry.npmjs.org/ # run으로 특정 shell 명령어를 실행시킬 수 있습니다. - run: npm install - run: npm run build - run: npm publish --access public # 실행시키는 명령어에 환경변수를 넣어줄 수도 있습니다. # secrets는 레포지토리에 지정한 secret값을 참조할 수 있는 변수입니다.
  env:
  NODE_AUTH_TOKEN: {% raw %}${{ secrets.NPM_TOKEN }} {% endraw %}</code>
        </deckgo-highlight-code><h2 id="github-action에서-하는-cron-job" style="position:relative"><a href="#github-action%EC%97%90%EC%84%9C-%ED%95%98%EB%8A%94-cron-job" aria-label="github action에서 하는 cron job permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>github action에서 하는 cron job</h2><p>이제 일일 Github Actions에서는 crontab을 사용해 일정한 주기를 가지고 작업을 실행할 수 있게 하는 job 스케쥴링을 지원합니다. yaml의 <code>on:</code> 단락을 다음과 같이 작성하고, cron job을 추가하면 됩니다. 여기서 cron job 시간의 기준은 UTC 시간이라서, 한국 시간으로 변환하려면 9시간을 빼줘야 합니다.</p><deckgo-highlight-code language="yaml" theme="a11y-dark">
          <code slot="code">name: algo_daily_alarm

on:
schedule: - cron: &quot;00 11 \* \* \*&quot; # 한국시간 기준 오후 8시(20시)에 해당 Action 실행</code>
        </deckgo-highlight-code><h2 id="slack-incoming-webhooks-연동" style="position:relative"><a href="#slack-incoming-webhooks-%EC%97%B0%EB%8F%99" aria-label="slack incoming webhooks 연동 permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Slack Incoming WebHooks 연동</h2><p>Slack의 추가 앱인 <code>Incoming WebHooks</code>를 사용해 슬랙 채널로 메시지를 보낼 수 있게 밑작업을 합니다. 슬랙 채널에 앱 추가를 눌러 앱 추가 화면을 누르고, <code>Incoming WebHooks</code>를 검색해서 채널에 추가합니다.</p><p><span class="gatsby-resp-image-wrapper" style="position:relative;display:block;margin-left:auto;margin-right:auto;max-width:713px">
      <a class="gatsby-resp-image-link" href="/static/93dc909ee59b3f7f83cd45dc38f5c01b/01267/setting1.png" style="display:block" target="_blank" rel="noopener">
    <span class="gatsby-resp-image-background-image" style="padding-bottom:66.33333333333333%;position:relative;bottom:0;left:0;background-image:url(&#x27;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAYAAACpUE5eAAAACXBIWXMAAAsTAAALEwEAmpwYAAABtklEQVQ4y3WTyY6cMBCGeYpJ02C8YLBxg2loZlojzSiRspwSKTnNIZccokjJIVJOefw/qmpmaZocSoXs8ld/LSQhjrh/8w7KemwyiVRopLma/ZqpF/5km1xhKzSErpAUpoapA8gzZLbNDCW/EersbM22hUEmSyQUdJXJs2D6diFyACXTlUeuLEoX+E5Z95xsYcmj5KU661vOqq2HUJbPrdudvN/x3ZriRJaOs6eLyy2DNcPiMKEfr2EqD1XWKOvm9Gal7ISU6KpZzUZnBBynI25u7xC6PawLDBYrQO5hHSJP+GpbrAO1RdsfEMdr7KcjumHivhLw5eCehlK6Harm1K8LIK2CVBj6iMM4IHgHWQiUWkHIS3U5ASlbiAPv0FnZ1PRMQIQjps+/cPj0A837b9B3D9CvvyL3E9KMqjLPQGWRmKqBb/eXPSTgNkfe3ePm4S+GL3/QfPwN/fY79IefyHe3SDPBcWcKaSC8DmtDmUvu9xGHaURVW0gloZW8KPmph7TAtLCvHn+7xVAKXaF1Hfo6IlYd2rpD41pu0VIEA//3K6XzHlIZznh44xGMhzMO1jh+vPbmHyDSasQXs0HiAAAAAElFTkSuQmCC&#x27;);background-size:cover;display:block"></span>
  <img class="gatsby-resp-image-image" alt="세팅1" title="세팅1" src="/static/93dc909ee59b3f7f83cd45dc38f5c01b/01267/setting1.png" srcSet="/static/93dc909ee59b3f7f83cd45dc38f5c01b/5a46d/setting1.png 300w,/static/93dc909ee59b3f7f83cd45dc38f5c01b/0a47e/setting1.png 600w,/static/93dc909ee59b3f7f83cd45dc38f5c01b/01267/setting1.png 713w" sizes="(max-width: 713px) 100vw, 713px" style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0" loading="lazy" decoding="async"/>
  </a>
    </span>
<span class="gatsby-resp-image-wrapper" style="position:relative;display:block;margin-left:auto;margin-right:auto;max-width:746px">
      <a class="gatsby-resp-image-link" href="/static/9b72da7d4a29e5750aeec8ed84cdeab2/62de4/setting2.png" style="display:block" target="_blank" rel="noopener">
    <span class="gatsby-resp-image-background-image" style="padding-bottom:76.66666666666666%;position:relative;bottom:0;left:0;background-image:url(&#x27;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAPCAYAAADkmO9VAAAACXBIWXMAAAsTAAALEwEAmpwYAAAB/ElEQVQ4y5VU7W7aQBDkAdpKVQL4+2zfnQ/7/IExJlAIbaNSkRYlStRIlfr+zzHVOhgCNLT9MSdr7zQ7O7vrjuH4IIync9x8vUVaVFjdbrC5f4QuKnRNF6YbHIDeO4yDcdXADSQsL2zinZ7lIYwS3D8+4ennL9w9/MD6+x2ycoxAxujbbEdCoG+KyThDPVtgtviEYjSB64tnQjooQz6aYDieYpAO4XGFi76Dvv1MYBwpbGP9bRJK0CbumA6DEQ5gD4ZgyQgiq6CHEwRJCVOksOQ5ZDCEBs9rhPmkEdAxHAYrUPCTEmE6AtclpC7hRilMHsPkyVkYYQxvUMBV2YuSfQEuYzA+QM/2cWF46FlUgg/T+QtcH4bNGjQlE6HthshVhmUtsJ5H2CwVvkypc6feHYP8V7rYd7klVCJGkQrUQ4GrUmCUC1juvxAKCKVPCbXUjcLbucRmGTUK23Ext938E4jwVCHjcHmES0fibZfhzSXDu56/G5fXyNq7dvh3hA4TiFWKWRXjQymwqAQmBd8rPFMybUwo40OF5JWSGtdXCdYfc3z7nGN1nUOopNmi/2oKTTtjAqusRqQrDPIaLtfo2mHzmOw4q5BG7mVTiNBjHDd6DJVkiLMCUZwiEKp56AXywK9jEGGU5HsPze1Ovre83U4Sjs1/DXRPP5iW8DdZPqP86vzM6gAAAABJRU5ErkJggg==&#x27;);background-size:cover;display:block"></span>
  <img class="gatsby-resp-image-image" alt="세팅2" title="세팅2" src="/static/9b72da7d4a29e5750aeec8ed84cdeab2/62de4/setting2.png" srcSet="/static/9b72da7d4a29e5750aeec8ed84cdeab2/5a46d/setting2.png 300w,/static/9b72da7d4a29e5750aeec8ed84cdeab2/0a47e/setting2.png 600w,/static/9b72da7d4a29e5750aeec8ed84cdeab2/62de4/setting2.png 746w" sizes="(max-width: 746px) 100vw, 746px" style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0" loading="lazy" decoding="async"/>
  </a>
    </span></p><p>앱 추가 및 설정을 완료해 &#x27;구성&#x27; 화면으로 넘어가면, <code>curl</code> 명령어로 앱을 추가한 슬랙 채널에 메시지 요청을 보내는 샘플을 찾을 수 있습니다. 터미널에서 해당 curl 명령어를 실행시키면 등록한 해당 slack의 채널로 메시지를 전달할 수 있습니다.</p><p><span class="gatsby-resp-image-wrapper" style="position:relative;display:block;margin-left:auto;margin-right:auto;max-width:942px">
      <a class="gatsby-resp-image-link" href="/static/9dbff004e17ef786a2d1e0780b58533d/f1901/setting3.png" style="display:block" target="_blank" rel="noopener">
    <span class="gatsby-resp-image-background-image" style="padding-bottom:38.99999999999999%;position:relative;bottom:0;left:0;background-image:url(&#x27;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAYAAAD5nd/tAAAACXBIWXMAAAsTAAALEwEAmpwYAAAA6ElEQVQoz4VRi66DMAjd/3/m3TWWRumDVuuTG9hq9G7ZSE6gIMcD3OZ5ZrF93xViwzCwc44RkbFHjWOMCpQ4F/beK4jo6BN/Oz9qPE0Tp5Q4p6zk0pRz1hxR4kik+RjiK2ENzl4I27ZlAFB//7kzgGUDoGqbpmFrLXddpxOs6/pZoaxBmsCAjiWjeueZnFNlddRSimLbtqvCamfCvu9VTd2VR+TQ/LKrb++1LrgofEdYxqKNoqIeo6p4Zy87/F+QP3bW6p6MMXoQUb0sywWSk2+/EooaURdCYETH4XlNwePSdNTHYbzc4A8TJm8XLo9SZwAAAABJRU5ErkJggg==&#x27;);background-size:cover;display:block"></span>
  <img class="gatsby-resp-image-image" alt="세팅3" title="세팅3" src="/static/9dbff004e17ef786a2d1e0780b58533d/f1901/setting3.png" srcSet="/static/9dbff004e17ef786a2d1e0780b58533d/5a46d/setting3.png 300w,/static/9dbff004e17ef786a2d1e0780b58533d/0a47e/setting3.png 600w,/static/9dbff004e17ef786a2d1e0780b58533d/f1901/setting3.png 942w" sizes="(max-width: 942px) 100vw, 942px" style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0" loading="lazy" decoding="async"/>
  </a>
    </span></p><h2 id="github-actions에서-bash-shell-script-실행시키기" style="position:relative"><a href="#github-actions%EC%97%90%EC%84%9C-bash-shell-script-%EC%8B%A4%ED%96%89%EC%8B%9C%ED%82%A4%EA%B8%B0" aria-label="github actions에서 bash shell script 실행시키기 permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Github Actions에서 Bash Shell Script 실행시키기</h2><p>Github Actions에서 쉘 스크립트를 실행시키는 것은 어렵지 않습니다. 액션 자체가 리눅스 가상머신에서 돌아가기 때문에, <code>run</code>문에 쉘 스크립트를 바로 작성하면 됩니다. 이때 shell의 종류를 <code>bash</code>로 지정합니다. 대략의 구조는 다음과 같습니다.</p><deckgo-highlight-code language="yaml" theme="a11y-dark">
          <code slot="code">
name: algo_daily_alarm

on:
schedule: - cron: &quot;00 11 \* \* \*&quot;

jobs:
algo_daily_alarm:
runs-on: ubuntu-latest
steps: - name: Checkout
uses: actions/checkout@v2

      - name: POST Algo repo daily alarm to Slack
        shell: bash
        run: |
          ...쉘 스크립트 내용...
</code>
        </deckgo-highlight-code><h2 id="레포지토리-secret-지정해주기" style="position:relative"><a href="#%EB%A0%88%ED%8F%AC%EC%A7%80%ED%86%A0%EB%A6%AC-secret-%EC%A7%80%EC%A0%95%ED%95%B4%EC%A3%BC%EA%B8%B0" aria-label="레포지토리 secret 지정해주기 permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>레포지토리 secret 지정해주기</h2><p>요청을 보내는 slack 채널 URL을 알면 누구나 제 개인 채널로 슬랙 알림을 보낼 수 있습니다. 따라서 action에 직접 slack 채널의 URL을 하드코딩하기 보다는 레포지토리 secret으로 등록하여 action에서는 secrets를 참조하여 사용할 수 있도록 합니다. 그렇다면 메시지 요청을 하는 <code>curl</code> 실행문은 아래와 같이 쓸 수 있습니다.</p><deckgo-highlight-code language="yaml" theme="a11y-dark">
          <code slot="code">curl -X POST --data-urlencode &quot;payload={\&quot;channel\&quot;: \&quot;#알고\_알리미\&quot;, \&quot;username\&quot;: \&quot;알고 알리미\&quot;, \&quot;text\&quot;: \&quot;${DAILY_MESSAGE}\&quot;, \&quot;icon_emoji\&quot;: \&quot;:male-technologist:\&quot;}&quot; {% raw %}${{ secrets.SLACK_WEBHOOK_URL }}{% endraw %}</code>
        </deckgo-highlight-code><h2 id="일일-알고리즘-알림-만들기" style="position:relative"><a href="#%EC%9D%BC%EC%9D%BC-%EC%95%8C%EA%B3%A0%EB%A6%AC%EC%A6%98-%EC%95%8C%EB%A6%BC-%EB%A7%8C%EB%93%A4%EA%B8%B0" aria-label="일일 알고리즘 알림 만들기 permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>일일 알고리즘 알림 만들기</h2><p>완성된 일일 알고리즘 알림은 이렇습니다. 일일 알고리즘 알림은 퇴근하고 얼추 집에 오는 시간인 매일 오후 8시에, 이번달에 푼 알고리즘 문제가 총 몇 문제인지 알려주고, 목표로 설정한 30문제에 얼마나 근접했는지 알려줍니다.</p><deckgo-highlight-code language="yaml" theme="a11y-dark">
          <code slot="code">
name: algo_daily_alarm

on:
schedule: - cron: &quot;00 11 \* \* \*&quot; # 오후 8시

jobs:
algo_daily_alarm:
runs-on: ubuntu-latest

    steps:
      - name: Checkout
        uses: actions/checkout@v2

      - name: POST Algo repo daily alarm to Slack
        shell: bash
        run:
        # 현재 시간 정보 가져오기
          echo slack algo alarm
          NOW_DATE=$(date +%Y.%m.%d)
          NOW_MONTH=$(date +%0m)
          NOW_YEAR=$(date +%Y)

        # 이번 달에 해당하는 알고리즘 문제 풀이 폴더 찾고 푼 문제 개수 COUNT 변수에 저장
        # 알고리즘 문제 풀이 폴더들은 problems라는 디렉토리 안에 &#x27;YYYYmm&#x27;의 형식으로 만들어져야 인식됩니다.
          TARGET_FILE_NAME=&quot;${NOW_YEAR}${NOW_MONTH}&quot;
          TARGET_FILE_PATH=&quot;problems/${TARGET_FILE_NAME}&quot;
          COUNT=$(ls -al $TARGET_FILE_PATH | grep -E &quot;^-.*\.py$|^-.*\.js&quot; | wc -l | sed &#x27;s/ //g&#x27;)
          SITUATION=&quot;&quot;

        # 알고리즘 푼 문제 개수에 따른 응원(?)메시지 분기문
          if [ $COUNT -lt 10 ]
          then
              SITUATION=&quot;더 분발하세요!!!&quot;
          elif [ $COUNT -ge 10 -a $COUNT -lt 20 ]
          then
              SITUATION=&quot;잘 하고 계시네요. 화이팅!!&quot;
          elif [ $COUNT -ge 20 -a $COUNT -lt 30 ]
          then
              SITUATION=&quot;이번달 목표를 거의 다 달성하셨네요. 대단해요!!&quot;
          else
              SITUATION=&quot;30문제 넘게 푸셨네요!!!! 대박대박 너무 짱짱맨입니다!!&quot;
          fi

          DAILY_MESSAGE=&quot;알고리즘 문제 풀기 좋은 밤이네요!\n현재일($NOW_DATE)기준으로, *${NOW_YEAR}년 ${NOW_MONTH}월에 ${COUNT}문제* 푸셨어요\n한 달 목표는 *30문제* 입니다. ${SITUATION}&quot;

        # 슬랙 채널로 메시지 요청
          curl -X POST --data-urlencode &quot;payload={\&quot;channel\&quot;: \&quot;#알고_알리미\&quot;, \&quot;username\&quot;: \&quot;알고 알리미\&quot;, \&quot;text\&quot;: \&quot;${DAILY_MESSAGE}\&quot;, \&quot;icon_emoji\&quot;: \&quot;:male-technologist:\&quot;}&quot; {% raw %}${{ secrets.SLACK_WEBHOOK_URL }}{% endraw %}
</code>
        </deckgo-highlight-code><h2 id="주간-알고리즘-알림-만들기" style="position:relative"><a href="#%EC%A3%BC%EA%B0%84-%EC%95%8C%EA%B3%A0%EB%A6%AC%EC%A6%98-%EC%95%8C%EB%A6%BC-%EB%A7%8C%EB%93%A4%EA%B8%B0" aria-label="주간 알고리즘 알림 만들기 permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>주간 알고리즘 알림 만들기</h2><p><span class="gatsby-resp-image-wrapper" style="position:relative;display:block;margin-left:auto;margin-right:auto;max-width:434px">
      <a class="gatsby-resp-image-link" href="/static/0d4d6f5a42998fd03fcfacaaabcce505/ade6e/message2.png" style="display:block" target="_blank" rel="noopener">
    <span class="gatsby-resp-image-background-image" style="padding-bottom:57.333333333333336%;position:relative;bottom:0;left:0;background-image:url(&#x27;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAAAsTAAALEwEAmpwYAAABgklEQVQoz42S2U7CUBCGeQIvTBABAYHu7TndF9rSsiREIhE18aV8C5/0NzPaRo0iF9OZTidf/1k6dSnx9rpHlBbYHx5xOD5jtz+grDeI0hxxVsINEsx1G4puoz+a4vrmlv1v1rFkhIenF2iWhygrGJzmFfJqjaLaICsqBPGC816YYjCenQZeDca4uOxBMWzIIIbjhRBehDDNYbsh/CiD4XjQLIHRVEVvODmpstP80XBcJPmS1SSLEmW9ZRjlZJBA+jEUw2mBfyqkBxVplmRVfpxxe8vVluFpUbFyS/iYzPXzgNR2qzBZICaFqy3DaZ7Cj2G7wflAapnmM9NM3CoG+5lqMmCqGJyj+L+F/GhZsDqaG3lq2w0TLhpO5gw7BWqEMbDbH/FJ3N0f+XTqzQ75cs15GkeX7DPm9/74S/yRb5S3ClXDYUWOG/Ih0+nQVmlZuu1CtyVMx+OYvGoKNlsG0EzxXSEFNKOZZvHNUZElfbbmLsl7UcrfaEkEJqDwI5jCb4HvwF5B+R/Xy7UAAAAASUVORK5CYII=&#x27;);background-size:cover;display:block"></span>
  <img class="gatsby-resp-image-image" alt="세팅3" title="세팅3" src="/static/0d4d6f5a42998fd03fcfacaaabcce505/ade6e/message2.png" srcSet="/static/0d4d6f5a42998fd03fcfacaaabcce505/5a46d/message2.png 300w,/static/0d4d6f5a42998fd03fcfacaaabcce505/ade6e/message2.png 434w" sizes="(max-width: 434px) 100vw, 434px" style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0" loading="lazy" decoding="async"/>
  </a>
    </span></p><p>기세를 몰아 주간 알고리즘 알림도 만들어 봤습니다. 주간 알고리즘 알림은 매주 금요일에 올해에는 알고리즘을 총 몇 문제 풀었는지, 올해의 지난 달 각각 알고리즘을 몇 문제 풀었는지도 알려줍니다.</p><deckgo-highlight-code language="yaml" theme="a11y-dark">
          <code slot="code">name: algo_weekly_alarm

on:
schedule: - cron: &quot;0 9 \* \* 5&quot;

jobs:
algo_daily_alarm:
runs-on: ubuntu-latest

    steps:
      - name: Checkout
        uses: actions/checkout@v2

      - name: POST Algo repo weekly alarm to Slack
        shell: bash
        run:
        # 올해 년도 구하기
          NOW_YEAR=$(date +%Y)
          TARGET_FILE_PATH=&quot;problems&quot;

        # 올해 알고리즘 문제를 기록하는 폴더를 모두 찾아 배열에 넣기
          TARGET_DIR=($(find ${TARGET_FILE_PATH} -type d | grep ${NOW_YEAR} | cut -c 38- | sort))

          TARGET_VALUE=()
          LENGTH=0
          TOTAL=0

        # 반복문을 이용해 올해 알고리즘 문제 폴더를 순회하면서 폴더당 문제 개수, 문제 개수 총합 구하기
          for dir in &quot;${TARGET_DIR[@]}&quot;
          do
              LENGTH=$(($LENGTH + 1))
              VALUE=$(ls -al &quot;${TARGET_FILE_PATH}/$dir&quot; | grep -E &quot;^-.*\.py$|^-.*\.js&quot; | wc -l | sed &#x27;s/ //g&#x27;)
              TARGET_VALUE+=( $VALUE )
              TOTAL=$(( $TOTAL + $VALUE ))
          done

          echo $LENGTH
          NOW_DATE=$(date +%Y.%m.%d)
          MESSAGE=&quot;*주간 알고리즘 결산($NOW_DATE)*\n\n&quot;

        # 메시지에 매달 푼 문제 개수 정보 추가하기
          for ((i=0;i&lt;$LENGTH;i++)); do
              MESSAGE+=&quot;$(echo ${TARGET_DIR[$i]} | cut -c -4)년 $(echo ${TARGET_DIR[$i]} | cut -c 5-)월에 푼 문제 수: ${TARGET_VALUE[$i]}\n&quot;
          done

          MESSAGE+=&quot;--------------------------------\n${NOW_YEAR}년에 푼 문제\n*총합 $TOTAL 문제*\n\n무지 고통스럽지만, 언젠간 빛을 볼 PS입니다. 화이팅!!!&quot;

        # 채널로 메시지 보내기
          curl -X POST --data-urlencode &quot;payload={\&quot;channel\&quot;: \&quot;#알고_알리미\&quot;, \&quot;username\&quot;: \&quot;알고 알리미\&quot;, \&quot;text\&quot;: \&quot;${MESSAGE}\&quot;, \&quot;icon_emoji\&quot;: \&quot;:male-technologist:\&quot;}&quot;{% raw %}${{ secrets.SLACK_WEBHOOK_URL }}{% endraw %}
</code>
        </deckgo-highlight-code><h2 id="마무리" style="position:relative"><a href="#%EB%A7%88%EB%AC%B4%EB%A6%AC" aria-label="마무리 permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>마무리</h2><p><span class="gatsby-resp-image-wrapper" style="position:relative;display:block;margin-left:auto;margin-right:auto;max-width:185px">
      <a class="gatsby-resp-image-link" href="/static/e528ce06ad509f9c6005454b743b2bf1/1d79a/directory.png" style="display:block" target="_blank" rel="noopener">
    <span class="gatsby-resp-image-background-image" style="padding-bottom:149.7297297297297%;position:relative;bottom:0;left:0;background-image:url(&#x27;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAeCAYAAAAsEj5rAAAACXBIWXMAAAsTAAALEwEAmpwYAAAEFklEQVRIx41WWU8bVxTmr0QEG9t49pl7Z/eMN3aDY8CYgA0YUxYHyhaloVUbRepLVSltVClS97e0Ulv1qe2f+6p7HDsoAuyHozvbPfd853znOzMmZbOQZQmKoiBfnoFhWnTPmQnHZggDB45t0b0wRZExNTWFbDZ7q40psow458IwDbx89Qbt7gVmSiGenbdxvN/AxZMWPr3q4KBdx9nxFhbnikhOpiBJdzjsX6TTGTiej0xmCtlMCpqmIpVODz4UTkRkwtG9EcqyDF3XYDMD4vr46jlml2qwmY6txhKWF8tYq81hc32JVt/jSN846FaHmqbBdSwYpokvX3+P3e4ZPMfAXmsFjdUFcrbbrKH1eBlR6CKVGuJQVVU6VUAZf/AAEw/H6eXkZIqeCweJ5CSSyUlKjXh3F+x3kHWEPofJGL755TdsH54i8jmuTncoyu5HGzjvNnHWbaIQ+3SQNAyyoauQFQVbnUMsVFdh6gqmSzlyUMwHKBdzKBVCmKaOTCYzHLI4UZJlMG4THE1ViH/MMgYcdG0GQbMRqqwjCh1YjOGHP/7B8dPPkA85rq86OOqsE/8+uWgTH0W0AvLQCPunun4Ai9u9iCWJIhLcu8m/oRGKHJqGBlXTsLHTQZgvgjMDK9VZzE3HWFoooVqZxvrKPFyHDSp9L7EDj8MwTLz6+S0OL57Dd0wcdRpE7p2tR9SGp4ebyEfeaDwUHwkoycQEWZ+HoqLi3UQi2bsfAnsQoe8y6pQvvv4O9dYefNeiCDfqi2i3VtBu1ihakZqhtBE5ZJZOOfz4+gXqzTa4pVEOF+eL1M+Ck5X5IlRVGUR5L2RSGVKdNJKJBAkFmSSRE6GDN7VwaOv1eMjx45//UlFi4uF+Twe7TWo/Afu+Ct+ArJJKZyUJ5bkFhHEBqiIPOkR0jWg5EWEfyb0RihyKTYqqYm6pCos7sEwNs+UYcc7D7HSMQhxQL1MOMyO0Xi6wYVoW3rz9m1ov8hku36nNwV6d1uNOA4aujSYOfT28aUL/xGbBQcFFYX1nQyE73IRuGDi7foGFR2vwHIv4t1KdwfZmFfXaPPHQMvXhrUcObROaruPzr15j++AEDs2UZdSWZ8iqlTL1MjkcHXIWicQEHo6Pk9IIeAKaWIX1UjBi6/WL8u2vv9NsDj2Gy5NtEoaTw8dUlPMnLVKbvjh8mHNhY+KPQRcjQFPp76GxvYfZShWWoWK6EKEYBwg9B1HgIue7xFmaz3dBtrkF1+GkfzazEOfzsDmD7ZgIIhtuwBDmHfghhxdyGgnMNN6vH9iYmBOB56BQ9hDlQvz013+4uH6JuMTRvlxDo1PB5tEyGvsV7J6vIgxt2mgz81Ybc7gFz+GDB6VSCXEUUdU9j5OJYSVy57mMvuFicFnmrfY/58DyXg+MTYkAAAAASUVORK5CYII=&#x27;);background-size:cover;display:block"></span>
  <img class="gatsby-resp-image-image" alt="디렉토리" title="디렉토리" src="/static/e528ce06ad509f9c6005454b743b2bf1/1d79a/directory.png" srcSet="/static/e528ce06ad509f9c6005454b743b2bf1/1d79a/directory.png 185w" sizes="(max-width: 185px) 100vw, 185px" style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0" loading="lazy" decoding="async"/>
  </a>
    </span></p><p>코드를 보셨다면 아시겠지만, 쉘 스크립트가 디렉토리에 접근해서 이번달, 혹은 올해 풀었던 알고리즘 문제의 개수를 셀 수 있었던 이유는 problems 디렉토리 하위에 같은 포맷(YYYYmm)을 가진 이름으로 매달 푼 알고리즘 문제를 기록하는 폴더를 만들었기 때문입니다.</p><p>자동화를 진행하면서 잘 몰랐던 쉘 스크립트 문법에 대해 배울 수 있었고, 깃헙 액션은 참 유용하다는 생각이 들었습니다. 클라우드 컴퓨팅 서비스를 경유하지 않고도 간단하게 스케쥴링을 이용할 수 있다는 것도 참 좋은 것 같아요!</p><p>또한 느낀 것은... 올해 푼 알고리즘 문제를 저렇게 세어보니 제가 올해 초 설정했던 목표치에는 도달하지 못해 반성해야 할 것 같습니다😭 목표를 세워 놓고도 요즘은 퇴근하면 너무 지쳐서 아무것도 못하고 있습니다. 한 달에 30문제... 다시 체력을 회복해서 꼭 계속 풀어내도록 하겠습니다.👊</p><h2 id="reference" style="position:relative"><a href="#reference" aria-label="reference permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Reference</h2><ul><li><a href="https://velog.io/@chris/replacing-crontab-with-the-schedule-feature-of-github-actions">Github Actions에 추가된 schedule 기능으로 Crontab 대체하기</a></li><li><a href="https://yceffort.kr/2020/07/cron-job-with-github-actions">Github 액션으로 스케쥴링 작업하기</a></li><li><a href="https://docs.github.com/en/actions/reference/workflow-syntax-for-github-actions">Workflow syntax for GitHub Actions</a></li></ul></div><div><div class="c-inPSka"></div><div class="c-hLbyMm"><div>Written by 김맥스</div><div class="c-kINvOu"><a href="https://twitter.com/max_kim_dev">twitter</a><a href="https://github.com/MaxKim-J">github</a><a href="https://www.linkedin.com/in/%EC%A2%85%ED%98%81-%EA%B9%80-903967177/">linkedin</a></div></div><div class="c-inYmSa"><div>트위터에 공유하기</div><div>링크 복사하기</div></div><div class="c-gAHJmZ"><a href="/">글 목록으로 돌아가기</a><div class="c-eqDGAL"><a href="/posts/how-to-use-redux-saga">이전글</a><a href="/posts/frontend-infrastructure">다음글</a><a href="/posts/frontend-infrastructure">랜덤</a></div></div><div class="c-kxdqJo"></div></div></main><footer><div class="c-jPqceB"><div>김맥스 블로그ⓒ김종혁, 2022</div><div>Powered By <a href="https://www.gatsbyjs.com/">gatsby</a> /<a href="">gh-pages</a></div></div></footer></div></div></div><div id="gatsby-announcer" style="position:absolute;top:0;width:1px;height:1px;padding:0;overflow:hidden;clip:rect(0, 0, 0, 0);white-space:nowrap;border:0" aria-live="assertive" aria-atomic="true"></div></div><script>
  
  
  if(true) {
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
  }
  if (typeof ga === "function") {
    ga('create', 'UA-132859535-2', 'auto', {});
      
      
      
      
      
      }</script><script id="gatsby-script-loader">/*<![CDATA[*/window.pagePath="/posts/github-actions-slack-bot/";window.___webpackCompilationHash="f7f20b5de3cdf5517536";/*]]>*/</script><script id="gatsby-chunk-mapping">/*<![CDATA[*/window.___chunkMapping={"polyfill":["/polyfill-f012ba4a76c3d692158a.js"],"app":["/app-7f2c0c62411c10d2f3b4.js"],"component---src-pages-404-tsx":["/component---src-pages-404-tsx-ce4bbd1696f109b5d64d.js"],"component---src-pages-about-index-tsx":["/component---src-pages-about-index-tsx-be1f1648f88061779477.js"],"component---src-pages-gallery-index-tsx":["/component---src-pages-gallery-index-tsx-0a570cc011ebe9b221fc.js"],"component---src-pages-index-tsx":["/component---src-pages-index-tsx-4842ac9a19fcb9d09583.js"],"component---src-pages-posts-mdx-slug-tsx":["/component---src-pages-posts-mdx-slug-tsx-2fb801dfa34de5e91c02.js"],"component---src-pages-tags-index-tsx":["/component---src-pages-tags-index-tsx-a9c51cc3342289b54b71.js"]};/*]]>*/</script><script src="/polyfill-f012ba4a76c3d692158a.js" nomodule=""></script><script src="/app-7f2c0c62411c10d2f3b4.js" async=""></script><script src="/framework-0ea894b592cd5d21d3c6.js" async=""></script><script src="/webpack-runtime-0d799acc24fa3839e683.js" async=""></script></body></html>